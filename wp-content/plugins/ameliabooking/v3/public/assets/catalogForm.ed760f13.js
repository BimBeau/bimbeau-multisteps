import{d as Qt,_ as St,u as ot,o as t,c as i,a,b as e,e as he,w as R,f as _e,t as n,g as da,h as Fe,i as c,j as H,k as Wt,l as z,m as f,n as ie,F as Q,r as ge,p as N,q as de,s as b,v as Ie,x as Ae,y as $t,z as Xt,A as nt,B as at,I as ma,C as vt,D as oe,E as ut,G as xt,H as Pe,J as pa,K as _a,P as va,L as fa,M as ga,N as ya,O as ha,Q as ba,R as ka,S as Ca,T as $a,U as wa,V as Sa,W as xa,X as Qe,Y as Nt,Z as Pa,$ as Dt,a0 as jt,a1 as _t,a2 as Zt,a3 as Ia,a4 as La,a5 as ea,a6 as Ue,a7 as Xe,a8 as Ea,a9 as Da,aa as pe,ab as Ta,ac as Ht,ad as Ba,ae as ta,af as za,ag as Fa,ah as aa,ai as Aa,aj as Ra,ak as Mt,al as Pt,am as pt,an as Vt,ao as qt,ap as ft,aq as It,ar as Me,as as Lt,at as Et,au as Na,av as Ma,aw as Va,ax as Oa,ay as Ua,az as Wa}from"./stepForm.a8547537.js";const ja={class:"am-cat__header-inner"},Ha={class:"am-cat__back-btn"},qa={key:0,class:"am-cat__cart-btn"},Ga={class:"am-cat__cart-number"},Ja={name:"MainHeader"},Gt=Object.assign(Ja,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(g,{emit:B}){const y=g;let x=Qt({components:{IconComponent:St},template:'<IconComponent icon="arrow-left"></IconComponent>'}),k=Qt({components:{IconComponent:St},template:'<IconComponent icon="cart"/>'});function L(){B("goBack")}const u=ot();function s(){Wt(u),B("goToCart")}return(m,$)=>(t(),i("div",ja,[a("div",Ha,[e(y).backBtnVisibility?(t(),he(Fe,{key:0,prefix:e(x),category:"secondary",type:g.btnType,size:g.btnSize,onClick:L,onKeydown:da(L,["enter"])},{default:R(()=>[_e(n(e(y).btnString),1)]),_:1},8,["prefix","type","size","onKeydown"])):c("",!0)]),e(y).cartBtnVisibility?(t(),i("div",qa,[a("span",Ga,n(e(y).cartItemsNumber),1),H(Fe,{"aria-label":"Go to cart button",category:"secondary",type:g.btnType,size:g.btnSize,round:!0,"icon-only":!0,icon:e(k),onClick:s},null,8,["type","size","icon"])])):c("",!0)]))}});const Ya={class:"am-cat__sidemenu-item__wrapper"},Qa=["onClick"],Xa={key:0,class:"am-cat__sidemenu-footer"},Za={class:"am-cat__sidemenu-footer__text"},Ka=["href"],ei={name:"SideMenu"},ti=Object.assign(ei,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(g,{emit:B}){const y=g;function x(u){B("click",u)}let k=z("amColors"),L=f(()=>({"--am-c-csm-text-op10":ie(k.value.colorSbText,.1),"--am-c-csm-primary-op10":ie(k.value.colorPrimary,.1),"--am-c-csm-text-op60":ie(k.value.colorSbText,.6),"--am-c-csm-text-op80":ie(k.value.colorSbText,.8)}));return(u,s)=>(t(),i("div",{role:"navigation",class:"am-cat__sidemenu",style:de(e(L))},[a("div",Ya,[(t(!0),i(Q,null,ge(g.menuItems,(m,$)=>(t(),i("div",{key:$,class:N(["am-cat__sidemenu-item",{"am-active":e(y).initSelection===m[e(y).identifier]}]),onClick:()=>x(m)},n(m[e(y).nameIdentifier]),11,Qa))),128))]),e(y).companyEmail?(t(),i("div",Xa,[a("span",Za,n(e(y).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(y).companyEmail}`},n(e(y).companyEmail),9,Ka)])):c("",!0)],4))}});const ai={name:"MainContent"},Jt=Object.assign(ai,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(g,{expose:B}){let y=b(null),x=b(0),k=b(null),L=b(0),u=b(null),s=b(0),m=b(null),$=b(null),S=b(0);window.addEventListener("resize",A);function A(){Ie(()=>{y.value&&(x.value=y.value.offsetWidth),k.value&&(L.value=k.value.offsetWidth),u.value&&(s.value=u.value.offsetWidth)})}Ae(()=>{Ie(()=>{if(u.value&&m.value){let M=u.value.offsetHeight-m.value.offsetHeight-2;S.value=M<=656?656:M}A()})}),B({catHeaderWidth:x,catFormWidth:s,catContainerWidth:L});let d=z("amColors"),_=f(()=>({"--am-h-cat-content":`${S.value}px`,"--am-c-scroll-op30":ie(d.value.colorPrimary,.3),"--am-c-scroll-op10":ie(d.value.colorPrimary,.1)}));return(M,ee)=>(t(),i("div",{class:N(["am-cat__wrapper",g.wrapperClass]),role:"main"},[a("div",{ref_key:"catHeader",ref:y,class:"am-cat__header"},[$t(M.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:k,class:"am-cat__main"},[$t(M.$slots,"side"),a("div",{ref_key:"catForm",ref:u,class:N(["am-cat__form",g.formClass]),style:de(e(_))},[a("div",{ref_key:"catHeading",ref:m,class:N(["am-cat__heading",g.headingClass])},[$t(M.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:$,class:N(["am-cat__content",g.contentClass])},[$t(M.$slots,"content")],2)],6)],512)],2))}}),ii={name:"AmImagePlaceholder"},dt=Object.assign(ii,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(g){const B=g;function y(k){return k.pictureFullPath?{backgroundImage:`url(${k.pictureFullPath})`}:{backgroundColor:`${Xt.value[Math.floor(Math.random()*Xt.value.length)]}`}}function x(k){return k.pictureFullPath?"":("firstName"in k?`${k.firstName} ${k.lastName}`:k.name).split(" ").map(u=>u.charAt(0)).join("").toUpperCase().substring(0,B.trimString).replace(/[^\w\s]/g,"")}return(k,L)=>(t(),i("span",{class:N(e(B).itemClass),style:de({...y(e(B).itemData)})},n(x(e(B).itemData)),7))}}),Ot=nt(window.wpAmeliaSettings),Kt=nt(window.wpAmeliaLabels);function ia(g,B,y,x=null,k=null){let L=[],u=g&&g.service?g.service.split(",").map(s=>parseInt(s)):null;return B&&B.serviceList.forEach(s=>{x?x in y.entitiesRelations&&s.id in y.entitiesRelations[x]&&(k?y.entitiesRelations[x][s.id].find(m=>m===k):!0)&&s.status==="visible"&&s.show&&!L.filter(m=>m===s.id).length&&(!u||u.includes(s.id))&&L.push(s.id):y.employees.forEach(m=>{m.id in y.entitiesRelations&&s.id in y.entitiesRelations[m.id]&&(k?y.entitiesRelations[m.id][s.id].find($=>$===k):!0)&&s.status==="visible"&&s.show&&!L.filter($=>$===s.id).length&&(!u||u.includes(s.id))&&L.push(s.id)})}),L}function sa(g,B){let y=[],x=[];g.employees.forEach(u=>{if(u.id in g.entitiesRelations&&B in g.entitiesRelations[u.id]){let s=u.serviceList.find(m=>m.id===B);y.push(s.maxCapacity),x.push(s.minCapacity)}});let k=x.reduce((u,s)=>s<u?s:u,x[0]),L=y.reduce((u,s)=>s>u?s:u,y[0]);return k!==L?`${k}/${L}`:k}function la(g){let B=Math.floor(g/3600),y=g/60%60;return(B?B+Kt.h+" ":"")+" "+(y?y+Kt.min:"")}function mt(g,B){let y=[];g.employees.forEach(L=>{if(L.id in g.entitiesRelations&&B in g.entitiesRelations[L.id]){let u=L.serviceList.find(s=>s.id===B);y.push(u.price)}});let x=y.reduce((L,u)=>u<L?u:L,y[0]),k=y.reduce((L,u)=>u>L?u:L,y[0]);return x!==k?{price:`${at(x,!Ot.payments.hideCurrencySymbolFrontend)} - ${at(k,!Ot.payments.hideCurrencySymbolFrontend)}`,min:x,max:k}:{price:at(x,Ot.payments.hideCurrencySymbolFrontend),min:x,max:k}}function lt(g,B){let y=[];return g.employees.forEach(x=>{x.id in g.entitiesRelations&&B in g.entitiesRelations[x.id]&&g.entitiesRelations[x.id][B].length&&g.locations.forEach(k=>{g.entitiesRelations[x.id][B].some(L=>L===k.id)&&!y.find(L=>L===k.id)&&y.push(k)})}),y}function si(g,B){let y=[],x=Object.keys(g.entitiesRelations);return B.bookable.forEach(k=>{let L=[];x.forEach(u=>{g.entitiesRelations[u]&&g.entitiesRelations[u][k.service.id]&&!L.find(s=>s?s.id===parseInt(u):!0)&&L.push(g.employees.find(s=>s.id===parseInt(u)))}),L.length||y.push(!1)}),y.filter(k=>k===!1).length}function li(g,B,y){let x=[],k=Object.keys(g.entitiesRelations),L=y&&y.employee?y.employee.split(",").map(s=>parseInt(s)):null,u=b(L?g.unfilteredEmployees.filter(s=>L.map(m=>parseInt(m)).includes(s.id)):g.unfilteredEmployees);return B.bookable.forEach(s=>{let m=[];s.providers.length?s.providers.forEach($=>{s.locations.length?s.locations.forEach(S=>{u.value.find(A=>A.id===$.id)&&g.entitiesRelations[$.id]&&g.entitiesRelations[$.id][s.service.id]&&g.entitiesRelations[$.id][s.service.id].indexOf(S.id)!==-1&&!m.find(A=>A.id===$.id)&&m.push(u.value.find(A=>A.id===$.id))}):u.value.find(S=>S.id===$.id)&&!m.find(S=>S.id===$.id)&&m.push(u.value.find(S=>S.id===$.id))}):k.forEach($=>{s.locations.length?s.locations.forEach(S=>{g.entitiesRelations[$]&&g.entitiesRelations[$][s.service.id]&&g.entitiesRelations[$][s.service.id].indexOf(S.id)!==-1&&u.value.find(A=>A.id===parseInt($))&&!m.find(A=>A.id===parseInt($))&&m.push(u.value.find(A=>A.id===parseInt($)))}):g.entitiesRelations[$]&&g.entitiesRelations[$][s.service.id]&&u.value.find(S=>S.id===parseInt($))&&!m.find(S=>S.id===parseInt($))&&m.push(u.value.find(S=>S.id===parseInt($)))}),x.push(!!m.length)}),!x.filter(s=>s===!1).length}function oa(g,B,y){let x=[],k=Object.keys(g.entitiesRelations),L=y&&y.employee?y.employee.split(",").map(s=>parseInt(s)):null,u=b(L?g.unfilteredEmployees.filter(s=>L.map(m=>parseInt(m)).includes(s.id)):g.unfilteredEmployees);return B.bookable.forEach(s=>{s.providers.length?s.providers.forEach(m=>{s.locations.length?s.locations.forEach($=>{u.value.find(S=>S.id===m.id)&&g.entitiesRelations[m.id]&&g.entitiesRelations[m.id][s.service.id]&&g.entitiesRelations[m.id][s.service.id].indexOf($.id)!==-1&&!x.find(S=>S.id===m.id)&&x.push(u.value.find(S=>S.id===m.id))}):u.value.find($=>$.id===m.id)&&!x.find($=>$.id===m.id)&&x.push(u.value.find($=>$.id===m.id))}):k.forEach(m=>{s.locations.length?s.locations.forEach($=>{g.entitiesRelations[m]&&g.entitiesRelations[m][s.service.id]&&g.entitiesRelations[m][s.service.id].indexOf($.id)!==-1&&u.value.find(S=>S.id===parseInt(m))&&!x.find(S=>S.id===parseInt(m))&&x.push(u.value.find(S=>S.id===parseInt(m)))}):g.entitiesRelations[m]&&g.entitiesRelations[m][s.service.id]&&u.value.find($=>$.id===parseInt(m))&&!x.find($=>$.id===parseInt(m))&&x.push(u.value.find($=>$.id===parseInt(m)))})}),x}function Ut(g,B,y){let x=[],k=Object.keys(g.entitiesRelations),L=y&&y.location?y.location.split(",").map(s=>parseInt(s)):null,u=b(L?g.unfilteredLocations.filter(s=>L.map(m=>parseInt(m)).includes(s.id)):g.unfilteredLocations);return B.bookable.forEach(s=>{s.locations.length?s.locations.forEach(m=>{u.value.find($=>$.id===m.id)&&!x.find($=>$.id===m.id)&&x.push(u.value.find($=>$.id===m.id))}):k.forEach(m=>{u.value.forEach($=>{m in g.entitiesRelations&&s.service.id in g.entitiesRelations[m]&&g.entitiesRelations[m][s.service.id].indexOf($.id)!==-1&&u.value.find(S=>S.id===$.id)&&!x.find(S=>S.id===parseInt($.id))&&x.push(u.value.find(S=>S.id===$.id))})})}),x}function wt(g,B,y=null,x=null){let k=[];return g.categories.forEach(L=>{let u=ia(B,L,g,y,x);L.serviceIdList=u,L.packageList=[],g.packages.forEach(s=>{u.forEach(m=>{s.bookable.filter($=>$.service.id===m).length&&!L.packageList.filter($=>$===s.id).length&&s.available&&s.status==="visible"&&!si(g,s)&&li(g,s,B)&&L.packageList.push(s.id)})}),L.status==="visible"&&L.serviceList.length&&!!u.length&&(B.show==="packages"?!!L.packageList.length:!0)&&k.push(L)}),k}const oi={class:"am-fcl__item-inner"},ni={class:"am-fcl__item-name"},ri={class:"am-fcl__item-segments"},ci={key:0,class:"am-fcl__item-segments__item"},ui=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),di={class:"am-fcl__item-segments__item-count"},mi={key:1,class:"am-fcl__item-segments__item"},pi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),_i={class:"am-fcl__item-segments__item-count"},vi={class:"am-fcl__item-footer"},fi=["src","alt"],gi={class:"am-empty__heading"},yi={class:"am-empty__subheading"},hi={class:"am-empty__text"},bi={key:0},ki={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ci={key:1},$i={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},wi={name:"CategoriesList",key:"categoriesList"},Si=Object.assign(wi,{setup(g){const B=z("baseUrls");let y=b(null),x=b(0);window.addEventListener("resize",k);function k(){y.value&&(x.value=y.value.offsetWidth)}Ae(()=>{y.value&&(x.value=y.value.offsetWidth)});let L=f(()=>x.value<=500?"am-w100":x.value<=600?"am-w50":x.value<=768?"am-w33":""),{nextPage:u}=z("changingPageFunctions",{nextPage:()=>{}});const s=z("settings");let m=ot(),$=z("amEntities"),S=z("customizedDataForm"),A=f(()=>S.value.categoriesList.options);const d=z("shortcodeData"),_=f(()=>m.getters["entities/getPreselected"]);let M=z("availableCategories"),ee=f(()=>M.value),se=z("categorySelected");function te(be){se.value=be,m.commit("booking/setCategoryId",parseInt(be)),vt(m,{},"SelectCategory","appointment",null,null),u()}let l=f(()=>ee.value.length===0);const I=z("labels"),Z=z("localLanguage");let G=f(()=>s.general.usedLanguages.includes(Z.value)),me=f(()=>{let be=nt({...I});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let K=s.customizedData.cbf.categoriesList.translations;Object.keys(K).forEach(X=>{K[X][Z.value]&&G.value?be[X]=K[X][Z.value]:K[X].default&&(be[X]=K[X].default)})}return be}),Ce=z("amColors"),V=f(()=>({"--am-c-fcl-card-text-op80":ie(Ce.value.colorCardText,.8)}));return(be,K)=>e(l)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:y,class:"am-empty"},[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(_).show!=="packages"?e(me).no_services_employees:e(me).no_package_services},null,8,fi),a("div",gi,n(e(me).oops),1),a("div",yi,n(e(_).show!=="packages"?e(me).no_services_employees:e(me).no_package_services),1),a("div",hi,[e(_).show!=="packages"?(t(),i("span",bi,n(e(me).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",ki,n(e(me).add_services_url)+"\xA0 ",1),e(_).show!=="packages"?(t(),i("span",Ci,n(e(me).and)+"\xA0 ",1)):c("",!0),e(_).show!=="packages"?(t(),i("a",$i,n(e(me).add_employees_url),1)):c("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:y,class:"am-fcl",role:"main",style:de(e(V))},[(t(!0),i(Q,null,ge(e(ee),X=>(t(),i("div",{key:X.id,class:N(["am-fcl__item",e(L)]),role:"group"},[a("div",oi,[a("div",{class:"am-fcl__item-content",style:de(e(A).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:X.color}:{})},[a("div",{class:"am-fcl__item-heading",style:de(e(A).cardColor&&e(A).cardColor.visibility?{backgroundColor:e(ie)(X.color,.1)}:{})},[X.pictureFullPath?(t(),i("div",{key:0,style:de({backgroundImage:`url(${X.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):c("",!0),a("div",ni,n(X.name),1),a("div",ri,[(!e(_).show||e(_).show==="services")&&e(A).services.visibility?(t(),i("div",ci,[ui,a("span",di,n(e(ia)(e(d),X,e($)).length),1)])):c("",!0),(!e(_).show||e(_).show==="packages")&&X.packageList.length&&e(A).packages.visibility?(t(),i("div",mi,[pi,a("span",_i,n(X.packageList.length),1)])):c("",!0)])],4),a("div",vi,[H(Fe,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(A).cardButton.buttonType,suffix:e(ma),onClick:Be=>te(X.id)},{default:R(()=>[_e(n(e(me).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const xi=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Pi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Ii=["href"],Li={class:"am-fs-sb__step-wrapper",tabindex:"0"},Ei={class:"am-fs-sb__step-inner"},Di={class:"am-fs-sb__step-icon"},Ti={key:0,class:"am-icon-check"},Bi={key:0},zi={key:1},Fi={key:1},Ai={key:0,class:"am-fs-sb__step"},Ri={class:"am-fs-sb__step-inner"},Ni={class:"am-fs-sb__step-icon"},Mi={key:0,class:"am-icon-check"},Vi={key:0,class:"am-fs-sb__support"},Oi=["aria-label","href"],Ui={key:1,class:"am-icon-phone"},Wi=["aria-label","href"],ji={key:1,class:"am-icon-email"},Hi={key:0,class:"am-fs-sb__menu-text"},qi={key:2,class:"am-no-services"},Gi=["src","alt"],Ji={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Yi={style:{"font-size":"14px"}},Qi={href:"https://wpamelia.com/employees/",rel:"nofollow"},Xi={name:"CategoryBooking"},Yt=Object.assign(Xi,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(g,{emit:B}){const y=g;let x=b(null),k=b();oe("containerWidth",k);let L=b(!1);window.addEventListener("resize",u);function u(){x.value&&(k.value=x.value.offsetWidth)}Ae(()=>{Ie(()=>{x.value&&(k.value=x.value.offsetWidth)}),vt(l,{containerWidth:k},"ContainerWidth","appointment",null,null)});const s=z("settings"),m=s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew:ut.sbsNew;m&&oe("amCustomize",m);let $=f(()=>{let r={heading:!0,phone:!0,email:!0};return"supportHeading"in m.sidebar.options&&(r.heading=m.sidebar.options.supportHeading.visibility),"companyPhone"in m.sidebar.options&&(r.phone=m.sidebar.options.companyPhone.visibility),"companyEmail"in m.sidebar.options&&(r.email=m.sidebar.options.companyEmail.visibility),r});const S=b(s.customizedData?s.customizedData.fonts:ut.fonts);oe("amFonts",S);let A=b(!1);oe("sidebarCollapsed",A);let d=b(""),_=z("bookingDialogWidth");xt(A,r=>{r?setTimeout(()=>{d.value="am-collapsed",setTimeout(()=>{_.value="592px"},200)},1e3):(d.value="",_.value="760px")}),Ae(()=>{m.sidebar.options.self.visibility||(_.value="520px")});let M=b(null),ee=b(0);Ae(()=>{setTimeout(()=>{Ie(()=>{M.value&&setTimeout(()=>{M.value&&(ee.value=M.value.offsetHeight)},200)})},800)});let se=b(m.sidebar?m.sidebar.options.self.visibility:!0);const te=z("baseUrls"),l=ot();let I=f(()=>{let r=l.getters["entities/getOriginalPreselected"],h={category:l.state.booking.appointment.categoryId?[l.state.booking.appointment.categoryId]:[],counter:l.state.entities.preselected.counter,employee:l.state.booking.appointment.providerId?[l.state.booking.appointment.providerId]:[],hasApiCall:l.state.entities.preselected.hasApiCall,location:l.state.booking.appointment.locationId?[l.state.booking.appointment.locationId]:[],service:l.state.booking.appointment.serviceId?[l.state.booking.appointment.serviceId]:[],package:l.state.booking.packageId?[l.state.booking.packageId]:[],show:l.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(r).forEach(P=>{P in h||(h[P]=r[P])}),h});l.commit("entities/setPreselected",I.value);let Z=z("restoreFormData");const G=Pe(pa),me=Pe(_a),Ce=Pe(va),V=Pe(fa),be=Pe(ga),K=Pe(ya),X=Pe(ha),Be=Pe(ba),ye=Pe(ka),$e=Pe(Ca),ve=Pe($a),ce=Pe(wa),E=Pe(Sa),Se=Pe(xa),v=b(Qe(l)?[G,K,$e,ve,ye]:[G,K,ve,ye]);oe("stepsArray",v);const U=z("labels"),ue=z("localLanguage");let le=f(()=>s.general.usedLanguages.includes(ue.value)),We=Nt(l),W=f(()=>{let r=nt({...U});return s.customizedData&&s.customizedData.sbsNew&&Object.keys(s.customizedData.sbsNew).forEach(h=>{if(h!=="colors"&&s.customizedData.sbsNew[h].translations){let P=s.customizedData.sbsNew[h].translations;Object.keys(P).forEach(Y=>{P[Y][ue.value]&&le.value?r[Y]=P[Y][ue.value]:P[Y].default&&(r[Y]=P[Y].default)})}}),r});oe("amLabels",W);let Re=f(()=>{let r={};if(s.customizedData&&s.customizedData.sbsNew){let h=s.customizedData.sbsNew[v.value[C.value].key]?s.customizedData.sbsNew[v.value[C.value].key].translations:null;s.customizedData&&h&&Object.keys(h).forEach(P=>{h[P][ue.value]&&le.value?r[P]=h[P][ue.value]:h[P].default&&(r[P]=h[P].default)})}return Object.keys(r).length?r:U}),je=f(()=>{let r="filled";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[v.value[C.value].key]&&(r=s.customizedData.sbsNew[v.value[C.value].key].options.primaryFooterButton.buttonType),r});oe("primFooterBtnType",je),oe("primDescBtnType",je);let ae=f(()=>{let r="text";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[v.value[C.value].key]&&s.customizedData.sbsNew[v.value[C.value].key].options.secondaryFooterButton&&(r=s.customizedData.sbsNew[v.value[C.value].key].options.secondaryFooterButton.buttonType),r}),Ne=f(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),Ee=f(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function q(r,h){let P="";if(s.customizedData&&s.customizedData.sbsNew){let Y=s.customizedData.sbsNew[h]?s.customizedData.sbsNew[h].translations:null;s.customizedData&&Y&&Y[r]&&(P===""&&Y[r][ue.value]&&le.value?P=Y[r][ue.value]:P===""&&Y[r].default&&(P=Y[r].default))}return P||U[r]}let O=f(()=>Pa(l.getters["entities/getEmployeeServices"](l.getters["booking/getSelection"])));function T(){let r=l.getters["entities/getPreselected"];if(r.show==="packages")r.package.length>0&&(v.value.splice(0,1),ne.value.splice(0,1),xe()),p();else{w();let h=l.getters["entities/filteredEmployees"](l.getters["booking/getSelection"]).length<=1,P=!m.initStep.options.employee.visibility,Y=l.getters["entities/filteredLocations"](l.getters["booking/getSelection"]).length<=1,Le=!m.initStep.options.location.visibility;r.service.length>0&&(r.employee.length>0||h||P)&&(r.location.length>0||Y||Le)&&(O.value.availability?(v.value.splice(0,1,Se),ne.value.splice(0,1)):(v.value.splice(0,1),ne.value.splice(0,1)),p())}}function J(r,h,P,Y){r.value.map((Ge,tt)=>h.includes(Ge.name)?tt:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{r.value.splice(Ge,1)});let Ye={value:Y};P.forEach(Ge=>{r.value.indexOf(Ge)===-1&&(l.getters["entities/getPreselected"].show==="packages"&&l.getters["entities/getPreselected"].package.length>0?r.value.splice(Ye.value,0,Ge):r.value.splice(Ye.value+1,0,Ge))})}oe("goToPackageStep",{goToPackageStep:ze});function ze(r){l.commit("booking/setPackageId",r.id),l.commit("booking/setBookableType","package"),l.commit("booking/setMultipleAppointments",Dt(0,r)),l.commit("booking/setMultipleAppointmentsIndex",0);let h=r.bookable.reduce((Le,Ye)=>Le+Ye.maximumScheduled,0),P=[],Y=[];v.value[0]!==me&&P.push("ExtrasStep"),v.value[0]!==K&&P.push("DateTimeStep"),v.value[0]!==$e&&P.push("CartStep"),h>0?Y=Y.concat([Be,X,Ce]):Y.push(Ce),J(v,P,Y,C.value),J(ne,P,[],C.value),p(),Ve()}function xe(){let h=l.state.entities.packages.find(Le=>Le.id===l.getters["booking/getPackageId"]).bookable.reduce((Le,Ye)=>Le+Ye.maximumScheduled,0),P=[],Y=[];v.value.find(Le=>Le.name==="ExtrasStep")&&P.push("ExtrasStep"),v.value.find(Le=>Le.name==="DateTimeStep")&&P.push("DateTimeStep"),h>0?Y=Y.concat([Be,X,Ce]):Y.push(Ce),J(v,P,Y,C.value),J(ne,P,[],C.value),p(),Ve()}function Je(){l.commit("booking/setBookableType","appointment"),l.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),l.commit("booking/setPackageId",null),l.commit("booking/setMultipleAppointmentsIndex",0),_t(l);let r=[];v.value[0]!==K&&(Qe(l)&&r.push($e),r.push(K)),v.value[0]!==me&&F.value&&F.value.length&&r.push(me),J(v,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],r,C.value-1),J(ne,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],C.value),p()}oe("goToRecurringStep",{goToRecurringStep:De}),oe("removeRecurringStep",{removeRecurringStep:j});function De(){Qe(l)&&Ke();let r=0;for(let h=0;h<v.value.length;h++)if(v.value[h].name==="DateTimeStep"){r=h;break}v.value.splice(r+1,0,V),v.value.splice(r+2,0,be),p(),Ve()}function j(){for(let r=v.value.length-1;r>=0;r--)(v.value[r].name==="RecurringStep"||v.value[r].name==="RecurringSummary")&&v.value.splice(r+1,1);Qe(l)&&Te(C.value),p()}let F=f(()=>{let r=l.getters["entities/getService"](l.getters["booking/getServiceId"]);return r?r.extras:[]});function w(){F.value.length&&!v.value.find(r=>r.name==="ExtrasStep")&&(v.value.splice(C.value+1,0,me),p()),ne.value.find(r=>r.name==="ExtrasStep")&&!Object.keys(F.value).length&&(v.value.splice(1,1),ne.value.splice(1,1)),y.showCart||_t(l)}oe("initDataChanges",{changeInitStepDataService:w});const C=b(0);oe("stepIndex",C);let gt=z("stepName",b(""));xt(C,(r,h)=>{r<ne.value.length&&(ne.value[h].selected=!1,ne.value[r].selected=!0),r===ne.value.length&&(ne.value[h].selected=!1),gt.value=v.value[r].name});let yt=b(!1);oe("goBackToPackageBooking",yt);function Tt(){kt(!1),we.value||(v.value[C.value].name===Ce.name&&Je(),v.value[C.value].name===V.name&&(v.value.splice(C.value,2),ne.value.splice(C.value,2),Qe(l)&&(v.value.splice(C.value,0,$e),J(ne,[],[],C.value),p())),v.value[C.value].name===Be.name&&(yt.value=!0),C.value=C.value-1),st.value=!st.value}function Ve(){we.value||(ne.value[C.value].finished=!0,C.value=C.value+1)}let Ze=f(()=>l.getters["entities/getReady"]),rt=f(()=>l.getters["booking/getLoading"]),He=f(()=>l.getters["booking/getBooked"]),it=f(()=>l.getters["booking/getPaymentGateway"]),ct=b(!1),ht=b(!1),st=b(!1);function bt(){ct.value=!0}function Bt(){ct.value=!1}function zt(){st.value=!0}function Ft(){st.value=!1}function kt(r){ht.value=r}function At(){He.value&&(He.value.customerCabinetUrl?window.location.href=He.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}oe("secondButton",{secondButtonClick:At});let we=b(!1);oe("changingStepsFunctions",{nextStep:Ve,previousStep:Tt,footerButtonClick:bt,footerButtonReset:Bt,footerBtnDisabledUpdater:kt,headerButtonPreviousClick:zt,headerButtonPreviousReset:Ft,footerBtnDisabled:ht,footerButtonClicked:ct,headerButtonPreviousClicked:st,navigateInsideStep:we});const ne=b([]);oe("sidebarSteps",ne);function Ct(r){ne.value[C.value].stepSelectedData.filter(h=>h.reference===r.reference).length?ne.value[C.value].stepSelectedData.forEach((h,P,Y)=>{h.reference===r.reference&&r.value&&r.value!==h.value&&(h.value=r.value),h.reference===r.reference&&!r.value&&Y.splice(P,1)}):r.value&&ne.value[C.value].stepSelectedData.push(r),ne.value[C.value].stepSelectedData.sort((h,P)=>h.position-P.position)}function D(){v.value.forEach((r,h)=>{if(r.name!=="CongratulationsStep"){let P=r.sidebarData.label,Y={name:r.name,key:r.key,label:W.value[P],labelKey:P,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:h===C.value};ne.value.splice(h,0,Y)}})}jt(()=>{D(),T()}),Ae(()=>{switch(l.getters["booking/getBookableType"]){case"appointment":y.showCart||_t(l);break}if(y.showCart&&Zt(v,C),Z.value){v.value.splice(0,v.value.length),ne.value.splice(0,ne.value.length),C.value=0,Z.value.steps.forEach(h=>{switch(h){case"packageStep":v.value.push(E);break;case"bringingAnyone":v.value.push(Se);break;case"initStep":v.value.push(G);break;case"packageInfoStep":v.value.push(Ce);break;case"packageAppointmentsStep":v.value.push(X);break;case"packageAppointmentsListStep":v.value.push(Be);break;case"extrasStep":v.value.push(me);break;case"dateTimeStep":v.value.push(K);break;case"recurringStep":v.value.push(V);break;case"recurringSummary":v.value.push(be);break;case"cartStep":v.value.push($e);break;case"infoStep":v.value.push(ve);break;case"paymentStep":v.value.push(ce);break;case"congratulations":v.value.push(ye);break}let P=Z.value.sidebar.find(Y=>Y.key===h);p(),typeof P<"u"&&P.data&&P.data.forEach(Y=>{Ct({reference:Y.reference,position:Y.position,value:Y.value})}),C.value++}),l.commit("booking/setLoading",!1);let r=-1;Z.value.result==="success"?r=v.value.length-1:(Z.value.result==="error"||Z.value.result==="canceled")&&(r=v.value.length-2);for(let h=0;h<=r;h++)v.value[h].finished=!0;for(let h=0;h<=r-1;h++)ne.value[h].finished=!0,ne.value[h].selected=!1;(Z.value.result==="error"||Z.value.result==="canceled")&&(ne.value[r].finished=!1,ne.value[r].selected=!0),C.value=r}});function p(){v.value.forEach((r,h)=>{if(r.name!=="CongratulationsStep"&&!ne.value.find(P=>P.labelKey===r.sidebarData.label)){let P=r.sidebarData.label,Y={name:r.name,key:r.key,label:W.value[P],labelKey:P,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:h===C.value};ne.value.splice(h,0,Y)}})}oe("sidebarStepsFunctions",{sidebarDataCollector:Ct}),oe("addPaymentsStep",{addPaymentsStep:o}),oe("removePaymentsStep",{removePaymentsStep:re});function o(){v.value.splice(v.value.length-1,0,ce),p()}function re(){let r=["PaymentStep"];J(v,r,[],C.value),J(ne,r,[],C.value)}function Te(r){J(v,[],[$e],r),J(ne,[],[],r)}function Ke(){J(v,["CartStep"],[],C.value),J(ne,["CartStep"],[],C.value)}function et(){if(l.getters["entities/getPreselected"].show==="packages"){let h=l.getters["booking/getPackageId"]?[l.getters["entities/getPackage"](l.getters["booking/getPackageId"])]:l.getters["entities/getPackages"];return h.length>0&&h.filter(P=>P.price>0).length===h.length}if(!l.getters["booking/getPackageId"]){let h=l.getters["booking/getServiceId"]?[l.getters["entities/getService"](l.getters["booking/getServiceId"])]:l.getters["entities/getServices"],P=0;for(let Y of h){let Le=l.getters["booking/getEmployeeId"]?l.getters["entities/getEmployee"](l.getters["booking/getEmployeeId"])?[l.getters["entities/getEmployee"](l.getters["booking/getEmployeeId"])]:[]:l.getters["entities/getEmployees"],Ye=l.getters["booking/getBookingDuration"];if(Le.filter(tt=>tt.serviceList.find(Oe=>Oe.id===Y.id&&(Oe.price>0||Oe.customPricing&&Oe.customPricing.enabled&&(Object.values(Oe.customPricing.durations).length===Object.values(Oe.customPricing.durations).filter(Rt=>Rt.price>0).length||Ye&&Oe.customPricing.durations[Ye].price>0)))).length===Le.filter(tt=>tt.serviceList.find(Oe=>Oe.id===Y.id)).length)P++;else{let tt=l.getters["booking/getSelectedExtras"].length?l.getters["booking/getSelectedExtras"]:[];tt.length>0&&tt.reduce((Oe,Rt)=>Oe+Rt.price,0)>0&&P++}}return h.length>0&&P===h.length}return l.getters["entities/getPackage"](l.getters["booking/getPackageId"]).price>0}let qe=f(()=>Nt(l).length?Ia(l)!==0:et());La(()=>{let r=Nt(l);!r[0].serviceId&&Object.keys(r[0].services).length===0&&B("emptiedCart"),!Z.value&&!qe.value?re():Z.value||v.value.indexOf(ce)===-1&&o()},{flush:"post"});function fe(){ne.value.forEach(r=>{r.finished=!1,r.selected=!1}),v.value.forEach(r=>{r.finished=!1,r.selected=!1}),C.value=0,aa(l,!0),Aa(l),_t(l),B("addToCart")}function na(){let r=l.getters["booking/getCurrentCartItem"],h=l.getters["booking/getAllMultipleAppointments"];r?(l.commit("booking/setCartItem",r),l.commit("booking/setCartItemIndex",h.length-1),l.commit("booking/setCurrentCartItem",null)):(h.pop(),l.commit("booking/setCartItemIndex",h.length-1),l.commit("booking/setServiceId",h[h.length-1].serviceId),l.commit("booking/setEmployeeId",h[h.length-1].services[h[h.length-1].serviceId].providerId),l.commit("booking/setLocationId",h[h.length-1].services[h[h.length-1].serviceId].locationId)),Zt(v,C)}let ke=f(()=>s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew.colors:ut.sbsNew.colors);oe("amColors",ke);let ra=f(()=>({"--am-c-primary":ke.value.colorPrimary,"--am-c-success":ke.value.colorSuccess,"--am-c-error":ke.value.colorError,"--am-c-warning":ke.value.colorWarning,"--am-c-main-bgr":ke.value.colorMainBgr,"--am-c-main-heading-text":ke.value.colorMainHeadingText,"--am-c-main-text":ke.value.colorMainText,"--am-c-sb-bgr":ke.value.colorSbBgr,"--am-c-sb-text":ke.value.colorSbText,"--am-c-inp-bgr":ke.value.colorInpBgr,"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-inp-text":ke.value.colorInpText,"--am-c-inp-placeholder":ke.value.colorInpPlaceHolder,"--am-c-drop-bgr":ke.value.colorDropBgr,"--am-c-drop-text":ke.value.colorDropText,"--am-c-btn-prim":ke.value.colorBtnPrim,"--am-c-btn-prim-text":ke.value.colorBtnPrimText,"--am-c-btn-sec":ke.value.colorBtnSec,"--am-c-btn-sec-text":ke.value.colorBtnSecText,"--am-c-skeleton-op20":ie(ke.value.colorMainText,.2),"--am-c-skeleton-op60":ie(ke.value.colorMainText,.6),"--am-font-family":S.value.fontFamily,"--am-mw-main":se.value?A.value?"592px":"760px":"520px","--am-brad-main":se.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ca(){let r=document.head||document.getElementsByTagName("head")[0];r.querySelector("#amCustomFont")&&r.querySelector("#amCustomFont").remove();let h=`@font-face {font-family: '${S.value.fontFamily}'; src: url(${S.value.fontUrl});}`,P=document.createElement("style");r.appendChild(P),P.setAttribute("type","text/css"),P.setAttribute("id","amCustomFont"),P.appendChild(document.createTextNode(h))}S.value.customFontSelected&&ca();let ua=f(()=>({colorInputBorderRadius:"6px"}));return oe("amDesignProperties",ua),Ae(()=>{ea("renderForm",{ameliaContainer:x,containerWidth:k,empty:L,amCustomize:m,amFonts:S,sidebarCollapsed:A,sidebarCollapseItemsClass:d,sidebarFooterRef:M,sidebarFooterHeight:ee,sidebarVisibility:se})}),(r,h)=>(t(),i(Q,null,[S.value.customFontSelected?c("",!0):(t(),i(Q,{key:0},[xi,Pi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(te).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Ii)],64)),e(L)?(t(),i("div",qi,[a("img",{src:e(te).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"},alt:e(W).no_services_employees},null,8,Gi),a("h1",null,n(e(W).oops),1),a("h3",null,n(e(W).no_services_employees),1),a("p",null,n(e(W).add_services_employees),1),a("a",Ji,n(e(W).add_services_url)+"\xA0 ",1),a("span",Yi,n(e(W).and)+"\xA0",1),a("a",Qi,n(e(W).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:x,class:N(["am-fs__wrapper",{"am-collapsed":e(A)}]),style:de(e(ra))},[e(k)>560&&e(se)?(t(),he(Ta,{key:0,class:N(["am-fs-sb",{"am-collapsed":e(A)}]),style:de({width:e(A)?"72px":"240px",paddingBottom:`${e(ee)+16}px`})},{"step-list":R(()=>[a("div",Li,[v.value[C.value]!==e(ye)||!e(s).general.addToCalendar||e(He)&&e(He).data.length===0?(t(!0),i(Q,{key:0},ge(ne.value,P=>(t(),i("div",{key:P.key,class:"am-fs-sb__step"},[a("div",Ei,[a("div",Di,[a("span",{class:N(`am-icon-${P.icon}`)},null,2),P.key==="cartStep"&&e(Ue)(e(l))!==0?(t(),i("span",{key:0,class:N(["am-fs-sb__step-icon__number",e(d)])},n(e(Ue)(e(l))),3)):c("",!0)]),H(Xe,{name:"fade"},{default:R(()=>[e(A)?c("",!0):(t(),i("p",{key:0,class:N(["am-fs-sb__step-heading",e(d)])},n(P.label),3))]),_:2},1024),a("div",{class:N(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":P.selected},e(d)]])},[H(Xe,{name:"fade"},{default:R(()=>[P.finished?(t(),i("span",Ti)):c("",!0)]),_:2},1024)],2)]),H(Ea,{tag:"span",name:"fade",appear:"",class:N(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":P.key===e(X).key&&P.stepSelectedData.length>3}])},{default:R(()=>[e(A)?c("",!0):(t(!0),i(Q,{key:0},ge(P.stepSelectedData,(Y,Le)=>(t(),i("p",{key:Y.position,class:"am-fs-sb__step-selection"},[P.key!==e(X).key||Le<3?(t(),i("span",Bi,n(Y.value),1)):(t(),i("span",zi,n(e(W).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Fi,[H(Xe,{name:"fade"},{default:R(()=>[e(A)?c("",!0):(t(),he(Da,{key:0}))]),_:1}),e(A)?(t(),i("div",Ai,[a("div",Ri,[a("div",Ni,[a("span",{class:N(`am-icon-${v.value[C.value].sidebarData.icon}`)},null,2)]),a("div",{class:N(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":v.value[C.value].sidebarData.selected},e(d)]])},[H(Xe,{name:"fade"},{default:R(()=>[v.value[C.value].sidebarData.finished?(t(),i("span",Mi)):c("",!0)]),_:1})],2)])])):c("",!0)]))])]),"support-info":R(()=>[a("div",{ref_key:"sidebarFooterRef",ref:M,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e($).heading||e($).phone||e($).email)?(t(),i("div",Vi,[H(Xe,{name:"fade"},{default:R(()=>[!e(A)&&e($).heading?(t(),i("div",{key:0,class:N(["am-fs-sb__support-heading",e(d)])},n(e(W).get_in_touch),3)):c("",!0)]),_:1}),e(s).company.phone&&e($).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email","aria-label":`Company phone: ${e(s).company.phone}`,href:`tel:${e(s).company.phone}`},[e(A)?(t(),i("span",Ui)):(t(),i(Q,{key:0},[_e(n(e(s).company.phone),1)],64))],8,Oi)):c("",!0),e(s).company.email&&e($).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email","aria-label":`Company email: ${e(s).company.email}`,href:`mailto:${e(s).company.email}`},[e(A)?(t(),i("span",ji)):(t(),i(Q,{key:0},[_e(n(e(s).company.email),1)],64))],8,Wi)):c("",!0)])):c("",!0),a("div",{class:N(["am-fs-sb__menu",e(d)]),onClick:h[0]||(h[0]=P=>pe(A)?A.value=!e(A):A=!e(A))},[H(Xe,{name:"fade"},{default:R(()=>[e(A)?c("",!0):(t(),i("span",Hi,n(e(W).collapse_menu),1))]),_:1}),a("span",{class:N(`am-icon-arrow-circle-${e(A)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):c("",!0),H(Fa,null,Ht({step:R(()=>[(t(),he(ta(v.value[C.value]),{"global-class":"am-fs__main-content","show-cart":e(y).showCart&&v.value[C.value]===e(K)},null,8,["show-cart"]))]),footer:R(()=>[H(e(za),{"second-button-show":v.value[C.value]===e(ye)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Qe)(e(l))&&v.value[C.value]===e($e),"back-to-cart-button-show":e(Qe)(e(l))&&e(We).length>1&&v.value[C.value]!==e($e)&&v.value[C.value]!==e(ve)&&v.value[C.value]!==e(ce)&&v.value[C.value]!==e(ye),booked:e(He),loading:e(rt),ready:e(Ze),"payment-gateway":e(it),"customized-labels":e(Re),"primary-footer-button-type":e(je),"secondary-footer-button-type":e(ae),"add-to-cart-button-type":e(Ne),"back-to-cart-button-type":e(Ee),"back-to-cart-label":q("cancel","cartStep"),onAddToCart:fe,onBackToCart:na},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[v.value[C.value]!==e(ye)?{name:"header",fn:R(()=>[H(Ba,{"sidebar-visible":e(se),ready:e(Ze)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const Zi={class:"am-fcil__filter-buttons"},Ki={class:"am-fcil__filter"},es=["aria-label"],ts=["aria-label"],as=["aria-label"],is={class:"am-fcil__filter-item__btn-wrapper"},ss={role:"heading","aria-level":"2",class:"am-fcil__heading"},ls={key:0,class:"am-fcil__item-badge__wrapper"},os={class:"am-fcil__item-badge am-package"},ns=a("span",{class:"am-icon-shipment"},null,-1),rs={class:"am-fcil__item-heading"},cs={class:"am-fcil__item-name"},us={key:0,class:"am-fcil__item-cost"},ds={key:0,class:"am-fcil__item-discount"},ms={class:"am-fcil__item-price"},ps={key:1,class:"am-fcil__item-price"},_s={class:"am-fcil__item-info"},vs={key:0,class:"am-fcil__item-info__inner"},fs=a("span",{class:"am-icon-folder"},null,-1),gs={key:1,class:"am-fcil__item-info__inner"},ys=a("span",{class:"am-icon-clock"},null,-1),hs={key:0},bs={key:1},ks={key:2},Cs={key:2,class:"am-fcil__item-info__inner"},$s=a("span",{class:"am-icon-user"},null,-1),ws=a("span",null,"1/1",-1),Ss=[$s,ws],xs={key:3,class:"am-fcil__item-info__inner"},Ps=a("span",{class:"am-icon-locations"},null,-1),Is={key:2,class:"am-fcil__item-services"},Ls={key:0,class:"am-fcil__item-badge__wrapper"},Es={class:"am-fcil__item-badge am-service"},Ds=a("span",{class:"am-icon-service"},null,-1),Ts={class:"am-fcil__item-heading"},Bs={class:"am-fcil__item-name"},zs={key:0,class:"am-fcil__item-cost"},Fs={key:0,class:"am-fcil__item-price"},As={key:1,class:"am-fcil__item-price"},Rs={class:"am-fcil__item-info"},Ns={key:0,class:"am-fcil__item-info__inner"},Ms=a("span",{class:"am-icon-folder"},null,-1),Vs={key:1,class:"am-fcil__item-info__inner"},Os=a("span",{class:"am-icon-clock"},null,-1),Us={key:2,class:"am-fcil__item-info__inner"},Ws=a("span",{class:"am-icon-user"},null,-1),js={key:3,class:"am-fcil__item-info__inner"},Hs=a("span",{class:"am-icon-locations"},null,-1),qs={class:"am-fcil-employee__header"},Gs={class:"am-fcil-employee__heading"},Js={class:"am-fcil-employee__heading-left"},Ys={class:"am-fcil-employee__name"},Qs={key:0,class:"am-fcil-employee__heading-right"},Xs={class:"am-fcil-employee__price"},Zs=["innerHTML"],Ks={key:1,ref:"ameliaContainer",class:"am-empty"},el=["src"],tl={class:"am-empty__heading"},al={class:"am-empty__subheading"},il={class:"am-empty__text"},sl={key:0},ll={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ol={key:1},nl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},rl={name:"CategoryItemsList",key:"categoryItemsList"},cl=Object.assign(rl,{setup(g){let B=z("licence"),{nextPage:y,previousPage:x}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const k=z("baseUrls");let L=b(!1),u=b(!1),s=b("760px");oe("bookingDialogWidth",s);function m(){s.value="760px"}let $=b(!1),S=b(),A=z("containerWidth"),d=z("customizedDataForm"),_=f(()=>d.value.categoryItemsList.options),M=f(()=>"pageScroll"in _.value?_.value.pageScroll.visibility:!0);const ee=z("settings");let se=ot();const te=z("shortcodeData"),l=f(()=>se.getters["entities/getPreselected"]);let I=f(()=>{let D=Array.isArray(te.value.category)?te.value.category:te.value.category.split(",");return D=D.filter(p=>p),D.length}),Z=f(()=>{let D=S.value&&S.value.catContainerWidth?S.value.catContainerWidth>768:!0;return I.value!==1&&_.value.sidebar.visibility&&D}),G=z("amEntities"),me=b("");function Ce(D){me.value=D.toLowerCase()}let V=f(()=>me.value?G.value.employees.filter(D=>`${D.firstName} ${D.lastName}`.toLowerCase().includes(me.value)):G.value.employees),be=b("");function K(D){be.value=D.toLowerCase()}let X=f(()=>be.value?G.value.locations.filter(D=>D.name.toLowerCase().includes(be.value)):G.value.locations),Be=f(()=>Qe(se)&&Ue(se)>0),ye=f(()=>Ue(se));const $e=z("labels"),ve=z("localLanguage");let ce=f(()=>ee.general.usedLanguages.includes(ve.value)),E=f(()=>{let D=nt({...$e});if(ee.customizedData&&ee.customizedData.cbf&&ee.customizedData.cbf.categoryItemsList.translations){let p=ee.customizedData.cbf.categoryItemsList.translations;Object.keys(p).forEach(o=>{p[o][ve.value]&&ce.value?D[o]=p[o][ve.value]:p[o].default&&(D[o]=p[o].default)})}return D}),Se=b(""),v={components:{IconComponent:St},template:'<IconComponent icon="search"/>'},U=b(!0),ue={components:{IconComponent:St},template:'<IconComponent icon="filter"/>'},le=f(()=>S.value&&S.value.catHeaderWidth?S.value.catHeaderWidth:0);window.addEventListener("resize",We);function We(){Ie(()=>{le.value>480&&(U.value=!0)})}Ae(()=>{We()});function W(D){let p=[];return Se.value.toLowerCase().split(" ").forEach(o=>{p.push(D.toLowerCase().includes(o))}),p.filter(o=>o===!1).length<=0}let Re=z("availableCategories"),je=f(()=>{let D=[...Re.value],p=[];return D.forEach(o=>{p.push({id:o.id,name:o.name})}),p.unshift({id:0,name:E.value.filter_all}),p}),ae=z("categorySelected"),Ne=f(()=>wt(G.value,te.value,O.value,T.value)),Ee=f(()=>{let D=[];return Ne.value.find(p=>p.id===ae.value)?G.value.packages.forEach(p=>{Ne.value.find(o=>o.id===ae.value).packageList.forEach(o=>{p.id===o&&(Se.value?W(p.name):!0)&&D.push(p)})}):G.value.packages.forEach(p=>{Ne.value.forEach(o=>{o.packageList.forEach(re=>{p.id===re&&!D.find(Te=>Te.id===re)&&(Se.value?W(p.name):!0)&&D.push(p)})})}),D}),q=f(()=>{let D=[];return ae.value&&Ne.value.find(p=>p.id===ae.value)?G.value.services.forEach(p=>{Ne.value.find(o=>o.id===ae.value).serviceIdList.forEach(o=>{p.id===o&&(Se.value?W(p.name):!0)&&D.push(p)})}):G.value.services.forEach(p=>{Ne.value.forEach(o=>{o.serviceIdList.forEach(re=>{p.id===re&&(Se.value?W(p.name):!0)&&D.push(p)})})}),D}),O=b(null),T=b(null),J=b(!0),ze=b(!0);function xe(D){D==="all"&&(J.value=!0,ze.value=!0),D==="packages"&&(J.value=!0,ze.value=!1),D==="services"&&(J.value=!1,ze.value=!0)}jt(()=>{l.value.show&&xe(l.value.show)});let Je=f(()=>{let D=te.value.employee,p=G.value.employees.length,o=te.value.location,re=G.value.locations.length,Te=_.value.searchInput.visibility,Ke=_.value.filterEmployee.visibility&&D.length!==1&&p>1&&!B.isLite,et=_.value.filterLocation.visibility&&o.length!==1&&re>1&&!B.isLite&&!B.isStarter,qe=_.value.filterButtons.visibility&&l.value.show!=="packages"&&l.value.show!=="services"&&Ee.value.length!==0&&q.value.length!==0&&!Ue(se),fe={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return le.value>992?!Te||!qe?(fe.employee=!Te&&!qe?"am-w50":"am-w35",fe.location=!Te&&!qe?"am-w50":"am-w35",fe.search=!qe&&!et&&!Ke?"am-w100":"am-w30",Ke||(fe.location=!Te&&!qe?"am-w100":"am-w70"),et||(fe.employee=!Te&&!qe?"am-w100":"am-w70")):(Ke||(fe.location="am-w40"),et||(fe.employee="am-w40"),!Ke&&!et&&(fe.search="am-w70")):le.value>768||le.value>480?(fe.search=qe?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",fe.buttons=Te?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",fe.employee=et?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",fe.location=Ke?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",fe.category="am-w100 am-tablet am-order5"):(fe.employee="am-w100 am-mobile",fe.location="am-w100 am-mobile",fe.search="am-w100 am-mobile",fe.buttons="am-w100 am-mobile",fe.category="am-w100 am-mobile"),fe}),De=f(()=>S.value&&S.value.catContainerWidth?S.value.catContainerWidth:0),j=f(()=>{let D=Ee.value.length&&!Ue(se)?Ee.value.length:0,p=q.value.length>1?E.value.heading_services:E.value.heading_service,o=D?D>1?E.value.packages:E.value.package:"";if(!q.value.length&&!D)return E.value.no_search_data;if(ze.value&&(!J.value||!D))return`${E.value.available} - ${q.value.length} ${p}`;if((!ze.value||!q.value.length)&&J.value)return`${E.value.available} - ${D} ${o}`;let re=D?"/":"";return`${E.value.available} - ${q.value.length} ${p} ${re} ${D} ${o}`});Ae(()=>{Ie(()=>{L.value=Ee.value.length===0&&q.value.length===0})});function F(D){const p=D.id===0?null:D.id;ae.value=p,se.commit("booking/setCategoryId",p)}let w=z("itemType");function C(D){se.commit("booking/setServiceId",parseInt(D)),se.commit("booking/setBookableType","appointment"),w.value="appointment",vt(se,{},"SelectService","appointment",null,null),Ie(()=>{y()})}function gt(D){se.commit("booking/setServiceId",null),se.commit("booking/setPackageId",D.id),se.commit("booking/setBookableType","package"),se.commit("booking/setMultipleAppointments",Dt(0,D)),se.commit("booking/setCartItemIndex",0),w.value="package",vt(se,{},"SelectPackage","package",null,null),Ie(()=>{y()})}function yt(){ae.value=null,se.commit("booking/setCategoryId",null),x()}function Tt(){Wt(se),$.value=!0,u.value=!0}let Ve=b(!1),Ze=b(""),rt=b([]),He=b({}),it=b(null);function ct(){Ze.value="",rt.value=[],He.value={},it.value=null}function ht(D){rt.value=oa(G.value,D,te.value),He.value=D,Ve.value=!0}function st(D){let p=[];Object.keys(G.value.entitiesRelations).forEach(re=>{re in G.value.entitiesRelations&&D in G.value.entitiesRelations[re]&&G.value.employees.find(Te=>Te.id===parseInt(re))&&p.push(G.value.employees.find(Te=>Te.id===parseInt(re)))}),rt.value=p,Ze.value="service",Ve.value=!0,it.value=D}function bt(D){let p=G.value.services.find(re=>re.id===it.value).price,o=D.serviceList.find(re=>re.id===it.value).price;return o!==p?`${o-p>0?p>0?"+":"":"-"} ${at(o-p)}`:0}function Bt(){Ze.value==="service"?C(it.value):gt(He.value),ct()}function zt(D,p){let o="";return D>1?(p==="day"&&(o=E.value.expires_days),p==="week"&&(o=E.value.expires_weeks),p==="month"&&(o=E.value.expires_months)):(p==="day"&&(o=E.value.expires_day),p==="week"&&(o=E.value.expires_week),p==="month"&&(o=E.value.expires_month)),o}function Ft(D,p){let o=Ut(D,p);return o.length===1||o.length&&o.every(re=>re.id===o[0].id)?o[0].address?o[0].address:o[0].name:E.value.multiple_locations}function kt(D,p){let o=lt(D,p);return o.length===1||o.length&&o.every(re=>re.id===o[0].id)?o[0].address?o[0].address:o[0].name:E.value.multiple_locations}let At=z("amFonts",b({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),we=z("amColors"),ne=f(()=>({"--am-c-fcil-text-op-10":ie(we.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ie(we.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ie(we.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ie(we.value.colorCardText,.8),"--am-c-fcil-primary-op20":ie(we.value.colorPrimary,.2),"--am-c-fcil-success-op20":ie(we.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ie(we.value.colorInpText,.1),"--am-w-fcil-main":Re.value.length!==1&&I.value!==1&&_.value.sidebar.visibility&&Z.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":S.value&&S.value.catFormWidth<580?"100%":"50%"})),Ct=f(()=>({"--am-f-fcil-employee-f":At.value.fontFamily,"--am-c-fcil-employee-bgr":we.value.colorMainBgr,"--am-c-fcil-employee-heading":we.value.colorMainHeadingText,"--am-c-fcil-employee-text":we.value.colorMainText,"--am-c-fcil-employee-text-op80":ie(we.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ie(we.value.colorMainText,.15),"--am-c-fcil-employee-primary":we.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ie(we.value.colorPrimary,.1),"--am-c-inp-border":we.value.colorInpBorder,"--am-c-main-text":we.value.colorMainText}));return(D,p)=>e(L)?(t(),i("div",Ks,[a("img",{src:e(k).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,el),a("div",tl,n(e(E).oops),1),a("div",al,n(e(l).show!=="packages"?e(E).no_services_employees:e(E).no_package_services),1),a("div",il,[e(l).show!=="packages"?(t(),i("span",sl,n(e(E).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",ll,n(e(E).add_services_url)+"\xA0 ",1),e(l).show!=="packages"?(t(),i("span",ol,n(e(E).and)+"\xA0 ",1)):c("",!0),e(l).show!=="packages"?(t(),i("a",nl,n(e(E).add_employees_url),1)):c("",!0)])],512)):(t(),he(Jt,{key:0,ref_key:"contentRef",ref:S,"wrapper-class":`am-fcil ${e(A)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(A)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(A)<481?"am-mobile":""} ${e(M)?"":"no-scroll"}`,style:de(e(ne))},Ht({header:R(()=>[a("span",Zi,[e(I)!==1&&!e(te).categories_hidden&&e(Re).length!==1?(t(),he(Gt,{key:0,"btn-size":e(le)<481?"medium":"mini","btn-string":e(E).back_btn,"btn-type":e(_).backBtn.buttonType,"cart-btn-visibility":e(Be),"cart-items-number":e(ye),onGoBack:yt,onGoToCart:Tt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):c("",!0),e(le)<481?(t(),he(Fe,{key:1,size:"medium",category:"secondary",type:e(_).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ue),onClick:p[0]||(p[0]=()=>pe(U)?U.value=!e(U):U=!e(U))},null,8,["type","icon"])):c("",!0)]),a("div",Ki,[e(_).searchInput.visibility?(t(),i("div",{key:0,role:"search","aria-label":e(E).filter_input,class:N(["am-fcil__filter-item",e(Je).search])},[H(Ra,{modelValue:e(Se),"onUpdate:modelValue":p[1]||(p[1]=o=>pe(Se)?Se.value=o:Se=o),placeholder:e(E).filter_input,"prefix-icon":e(v)},null,8,["modelValue","placeholder","prefix-icon"])],10,es)):c("",!0),H(Xe,{name:"slide-fade"},{default:R(()=>[e(te).employee.length!==1&&e(G).employees.length>1&&e(_).filterEmployee.visibility&&e(U)&&!e(B).isLite?(t(),i("div",{key:0,class:N(["am-fcil__filter-item",e(Je).employee]),role:"search","aria-label":e(E).filter_employee},[H(Mt,{modelValue:e(O),"onUpdate:modelValue":p[2]||(p[2]=o=>pe(O)?O.value=o:O=o),clearable:"",filterable:"",placeholder:e(E).filter_employee,"aria-label":e(E).filter_employee,"filter-method":Ce,"fit-input-width":!0},{default:R(()=>[(t(!0),i(Q,null,ge(e(V),o=>(t(),he(Vt,{key:o.id,value:o.id,label:`${o.firstName} ${o.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,ts)):c("",!0)]),_:1}),H(Xe,{name:"slide-fade"},{default:R(()=>[e(te).location.length!==1&&e(G).locations.length>1&&e(_).filterLocation.visibility&&e(U)&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",{key:0,class:N(["am-fcil__filter-item",e(Je).location]),role:"search","aria-label":e(E).filter_location},[H(Mt,{modelValue:e(T),"onUpdate:modelValue":p[3]||(p[3]=o=>pe(T)?T.value=o:T=o),clearable:"",filterable:"",placeholder:e(E).filter_location,"aria-label":e(E).filter_location,"fit-input-width":!0,"filter-method":K},{default:R(()=>[(t(!0),i(Q,null,ge(e(X),o=>(t(),he(Vt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,as)):c("",!0)]),_:1}),H(Xe,{name:"slide-fade"},{default:R(()=>[e(Re).length!==1&&e(I)!==1&&e(_).sidebar.visibility&&!e(Z)&&e(U)?(t(),i("div",{key:0,class:N(["am-fcil__filter-item am-w100",e(Je).category])},[H(Mt,{modelValue:e(ae),"onUpdate:modelValue":p[4]||(p[4]=o=>pe(ae)?ae.value=o:ae=o),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:R(()=>[(t(!0),i(Q,null,ge(e(je),o=>(t(),he(Vt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):c("",!0)]),_:1}),!e(l).show&&e(_).filterButtons.visibility&&e(Ee).length!==0&&e(q).length!==0&&!e(Ue)(e(se))?(t(),i("div",{key:1,role:"search","aria-label":"Filter Buttons",class:N(["am-fcil__filter-item",e(Je).buttons])},[a("div",is,[a("div",{class:N(["am-fcil__filter-item__btn",{"am-active":e(J)&&e(ze)}]),onClick:p[5]||(p[5]=o=>xe("all"))},[a("span",null,n(e(E).filter_all),1)],2),a("div",{class:N(["am-fcil__filter-item__btn",{"am-active":e(J)&&!e(ze)}]),onClick:p[6]||(p[6]=o=>xe("packages"))},[a("span",null,n(e(E).filter_packages),1)],2),a("div",{class:N(["am-fcil__filter-item__btn",{"am-active":!e(J)&&e(ze)}]),onClick:p[7]||(p[7]=o=>xe("services"))},[a("span",null,n(e(E).filter_services),1)],2)])],2)):c("",!0)])]),heading:R(()=>[a("div",ss,n(e(j)),1)]),content:R(()=>[e(J)&&!e(Ue)(e(se))?(t(!0),i(Q,{key:0},ge(e(Ee),o=>(t(),i("div",{key:o.id,role:"group",class:N(["am-fcil__item",{"am-mobile":e(De)<481}])},[a("div",{class:N(["am-fcil__item-inner",{"am-mobile":e(De)<481}])},[a("div",{class:"am-fcil__item-content",style:de(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ie)(o.color,.1)}:{})},[e(_).packageBadge.visibility?(t(),i("div",ls,[a("div",os,[ns,a("span",null,n(e(E).package),1)])])):c("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:de({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):c("",!0),a("div",rs,[a("div",cs,n(o.name),1),e(_).packagePrice.visibility?(t(),i("div",us,[o.discount?(t(),i("span",ds,n(`${e(E).save} ${o.discount}%`),1)):c("",!0),a("span",ms,n(o.price?e(at)(e(qt)(o)):e(E).free),1),o.price&&(e(_).tax?.visibility??!0)&&e(ft)(e(se),o.id,"package")?(t(),i("span",ps,[e(ee).payments.taxes.excluded?(t(),i(Q,{key:0},[_e(n(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[_e(n(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",_s,[e(_).packageCategory.visibility&&e(ae)?(t(),i("div",vs,[fs,a("span",null,n(e(Re).find(re=>re.id===e(ae)).name),1)])):c("",!0),e(_).packageDuration.visibility?(t(),i("div",gs,[ys,o.endDate?(t(),i("span",hs,n(`${e(E).expires_at} ${o.endDate.split(" ")[0]}`),1)):o.durationCount?(t(),i("span",bs,n(`${e(E).expires_after} ${o.durationCount} ${zt(o.durationCount,o.durationType)}`),1)):(t(),i("span",ks,n(e(E).without_expiration),1))])):c("",!0),e(_).packageCapacity.visibility?(t(),i("div",Cs,Ss)):c("",!0),e(Ut)(e(G),o,e(te)).length&&e(_).packageLocation.visibility?(t(),i("div",xs,[Ps,a("span",null,n(Ft(e(G),o)),1)])):c("",!0)]),e(_).packageServices.visibility?(t(),i("div",Is,[a("span",null,n(`${e(E).in_package}:`),1),(t(!0),i(Q,null,ge(o.bookable,re=>(t(),i("span",{key:re.id},n(re.service.name),1))),128))])):c("",!0)],4),a("div",{class:N(["am-fcil__item-footer",[{"am-mobile":e(De)<481},{"am-micro":e(De)<320}]])},[e(_).cardEmployeeBtn.visibility?(t(),he(Fe,{key:0,class:N({"am-w100":e(De)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:re=>ht(o)},{default:R(()=>[_e(n(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),H(Fe,{class:N([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(De)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:re=>gt(o)},{default:R(()=>[_e(n(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),e(ze)?(t(!0),i(Q,{key:1},ge(e(q),o=>(t(),i("div",{key:o.id,class:N(["am-fcil__item",{"am-mobile":e(De)<481}])},[a("div",{class:N(["am-fcil__item-inner",{"am-mobile":e(De)<481}])},[a("div",{class:"am-fcil__item-content",style:de(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ie)(o.color,.1)}:{})},[e(_).serviceBadge.visibility?(t(),i("div",Ls,[a("div",Es,[Ds,a("span",null,n(e(E).heading_service),1)])])):c("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:de({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):c("",!0),a("div",Ts,[a("div",Bs,n(o.name),1),e(_).servicePrice.visibility?(t(),i("div",zs,[e(mt)(e(G),o.id).min||e(mt)(e(G),o.id).max?(t(),i("span",Fs,n(e(mt)(e(G),o.id).price),1)):c("",!0),(e(_).tax?.visibility??!0)&&e(ft)(e(se),o.id,"service")?(t(),i("span",As,[e(ee).payments.taxes.excluded?(t(),i(Q,{key:0},[_e(n(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[_e(n(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",Rs,[e(_).serviceCategory.visibility&&e(ae)?(t(),i("div",Ns,[Ms,a("span",null,n(e(Re).find(re=>re.id===e(ae)).name),1)])):c("",!0),e(_).serviceDuration.visibility?(t(),i("div",Vs,[Os,a("span",null,n(e(la)(o.duration)),1)])):c("",!0),e(_).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",Us,[Ws,a("span",null,n(e(sa)(e(G),o.id)),1)])):c("",!0),e(lt)(e(G),o.id).length&&e(_).serviceLocation.visibility?(t(),i("div",js,[Hs,a("span",null,n(kt(e(G),o.id)),1)])):c("",!0)])],4),a("div",{class:N(["am-fcil__item-footer",[{"am-mobile":e(De)<481},{"am-micro":e(De)<320}]])},[e(_).cardEmployeeBtn.visibility&&!e(B).isLite?(t(),he(Fe,{key:0,class:N({"am-w100":e(De)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:re=>st(o.id)},{default:R(()=>[_e(n(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),H(Fe,{class:N([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(De)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:re=>C(o.id)},{default:R(()=>[_e(n(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),H(pt,{modelValue:e(Ve),"onUpdate:modelValue":p[9]||(p[9]=o=>pe(Ve)?Ve.value=o:Ve=o),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Ct),width:"648px",onClose:ct},{title:R(()=>[a("div",qs,n(e(E).employee_info),1)]),default:R(()=>[a("div",null,[H(Pt,null,{default:R(()=>[(t(!0),i(Q,null,ge(e(rt),(o,re)=>(t(),he(It,{key:re,side:""},{heading:R(()=>[a("div",Gs,[a("div",Js,[H(dt,{"item-class":"am-fcil-employee__img","item-data":o,"trim-string":2},null,8,["item-data"]),a("div",Ys,[_e(n(`${o.firstName} ${o.lastName}`)+" ",1),o.badge?(t(),i("span",{key:0,style:de({background:o.badge.color}),class:"am-fcil-employee__badge"},n(o.badge.content),5)):c("",!0)])]),e(Ze)==="service"&&bt(o)!==0?(t(),i("div",Qs,[a("div",Xs,n(bt(o)),1)])):c("",!0)])]),default:R(()=>[e(Me)(o.description)?(t(),i("div",{key:0,class:N(["am-fcil-employee__text",{"ql-description":o.description.includes("<!-- Content -->")}]),innerHTML:o.description},null,10,Zs)):c("",!0)]),_:2},1024))),128))]),_:1})])]),footer:R(()=>[e(_).dialogEmployeeBtn.visibility?(t(),he(Fe,{key:0,type:e(_).dialogEmployeeBtn.buttonType,category:"primary",onClick:p[8]||(p[8]=o=>Bt())},{default:R(()=>[_e(n(e(Ze)==="service"?e(E).book_service:e(E).book_package),1)]),_:1},8,["type"])):c("",!0)]),_:1},8,["modelValue","custom-styles"]),H(pt,{modelValue:e(u),"onUpdate:modelValue":p[10]||(p[10]=o=>pe(u)?u.value=o:u=o),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:m},{default:R(()=>[H(Yt,{"show-cart":e($)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(Re).length!==1&&e(I)!==1&&e(_).sidebar.visibility&&e(Z)?{name:"side",fn:R(()=>[H(ti,{"menu-items":e(je),"init-selection":e(ae),identifier:"id","name-identifier":"name","footer-string":e(E).get_in_touch,"company-email":e(ee).company.email,onClick:F},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const ul={class:"am-fcis__header-text"},dl={class:"am-fcis__header-name",role:"heading","aria-level":"1"},ml={key:0,class:"am-fcis__badge am-service"},pl=a("span",{class:"am-icon-service"},null,-1),_l={class:"am-fcis__header-action"},vl={key:0,class:"am-fcis__header-price"},fl={key:1,class:"am-fcis__header-tax"},gl={class:"am-fcis__header-btn"},yl={key:0,class:"am-fcis__header-bottom"},hl={class:"am-fcis__mini-info"},bl={key:0,class:"am-fcis__mini-info__inner"},kl=a("span",{class:"am-icon-folder"},null,-1),Cl={key:1,class:"am-fcis__mini-info__inner"},$l=a("span",{class:"am-icon-clock"},null,-1),wl={key:2,class:"am-fcis__mini-info__inner"},Sl=a("span",{class:"am-icon-user"},null,-1),xl={key:3,class:"am-fcis__mini-info__inner"},Pl=a("span",{class:"am-icon-locations"},null,-1),Il={key:0,class:"am-fcis__gallery"},Ll={key:0,class:"am-fcis__gallery-thumb__wrapper"},El={class:"am-gd__display-wrapper"},Dl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Tl=["src","alt"],Bl={class:"am-gd__selection"},zl={class:"am-gd__thumb-wrapper"},Fl=["onClick"],Al={key:1,class:"am-fcis__info"},Rl={class:"am-fcis__info-tab__wrapper"},Nl={class:"am-fcis__info-content__wrapper"},Ml={key:0,class:"am-fcis__info-content"},Vl=["innerHTML"],Ol={key:1,class:"am-fcis__info-content"},Ul={class:"am-fcis__info-employee__hero"},Wl={class:"am-fcis__info-employee__heading"},jl={class:"am-fcis__info-employee__name"},Hl={key:0,class:"am-fcis__info-employee__price"},ql=["innerHTML"],Gl={key:2,class:"am-fcis__include-wrapper"},Jl={class:"am-fcis__include-heading"},Yl={class:"am-fcis__include-heading__text"},Ql=["onClick"],Xl={class:"am-fcis__include-hero"},Zl={key:0,class:"am-fcis__include-cost"},Kl={key:0,class:"am-fcis__include-discount"},eo={class:"am-fcis__include-price"},to={key:1,class:"am-fcis__include-price"},ao={class:"am-fcis__include-info"},io={key:0,class:"am-fcis__include-info__inner"},so=a("span",{class:"am-icon-folder"},null,-1),lo={key:1,class:"am-fcis__include-info__inner"},oo=a("span",{class:"am-icon-clock"},null,-1),no={key:0},ro={key:1},co={key:2},uo={key:2,class:"am-fcis__include-info__inner"},mo=a("span",{class:"am-icon-user"},null,-1),po=a("span",null,"1/1",-1),_o=[mo,po],vo={key:3,class:"am-fcis__include-info__inner"},fo=a("span",{class:"am-icon-locations"},null,-1),go={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},yo={key:1,ref:"ameliaContainer",class:"am-empty"},ho=["src","alt"],bo={class:"am-empty__heading"},ko={class:"am-empty__subheading"},Co={class:"am-empty__text"},$o={key:0},wo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},So={key:1},xo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Po={name:"CategoryService"},Io=Object.assign(Po,{setup(g){let B=z("licence"),{previousPage:y}=z("changingPageFunctions",{previousPage:()=>{}}),x=f(()=>M.getters["entities/getReady"]);const k=z("baseUrls");let L=b(),u=z("containerWidth");const s=z("settings");let m=z("amFonts");const $=z("labels"),S=z("localLanguage");let A=f(()=>s.general.usedLanguages.includes(S.value)),d=f(()=>{let j=nt({...$});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let F=s.customizedData.cbf.categoryService.translations;Object.keys(F).forEach(w=>{F[w][S.value]&&A.value?j[w]=F[w][S.value]:F[w].default&&(j[w]=F[w].default)})}return j}),_=b(0),M=ot(),ee=z("amEntities"),se=f(()=>Qe(M)&&Ue(M)>0),te=f(()=>Ue(M)),l=z("customizedDataForm"),I=f(()=>l.value.categoryService.options),Z=f(()=>"pageScroll"in I.value?I.value.pageScroll.visibility:!0),G=z("itemType"),me=z("categorySelected"),Ce=f(()=>ee.value.categories.find(j=>j.id===me.value)),V=f(()=>{let j=ee.value.services.find(F=>F.id===M.getters["booking/getServiceId"]);return j||{}});function be(j,F){let w=lt(j,F);return w.length===1||w.length&&w.every(C=>C.id===w[0].id)?w[0].address?w[0].address:w[0].name:d.value.multiple_locations}let K=b("description"),X=f(()=>{let j=[];return Object.keys(ee.value.entitiesRelations).forEach(w=>{ee.value.entitiesRelations[w][V.value.id]&&ee.value.employees.find(C=>C.id===parseInt(w))&&j.push(ee.value.employees.find(C=>C.id===parseInt(w)))}),j});function Be(j){let F=j.serviceList.find(w=>w.id===V.value.id).price;return F-V.value.price!==0?`${F-V.value.price>0?V.value.price>0?"+":"":"-"} ${at(F-V.value.price)}`:""}Ae(()=>{I.value.serviceDescription.visibility||(K.value="employees"),Me(V.value.description)||(K.value="employees")});let ye=f(()=>{let j=V.value.gallery.length?JSON.parse(JSON.stringify(V.value.gallery)):[];return V.value.gallery.length===1?[]:(j.shift(),j.length>2&&j.splice(2,j.length-2),j)}),$e=f(()=>{let j=[];return ee.value.packages.forEach(F=>{F.bookable.filter(w=>w.service.id===V.value.id).length&&!j.filter(w=>w.id===F.id).length&&F.available&&F.status==="visible"&&j.push(F)}),j}),ve=b(!1),ce=f(()=>{let j=[...$e.value];return ve.value?j:j.slice(0,2)}),E=f(()=>M.getters["entities/filteredLocations"](M.getters["booking/getSelection"]));function Se(){G.value="",Ie(()=>{y()})}let v=b(!1);function U(){M.commit("booking/setShownCart",!1),Wt(M),v.value=!0,le.value=!0}function ue(){le.value=!1,M.getters["entities/getPreselected"].service.length>1&&Se()}let le=b(!1),We=b("760px");oe("bookingDialogWidth",We);function W(){let j=M.getters["entities/getPreselected"];X.value.length===1&&(M.commit("booking/setEmployeeId",parseInt(X.value[0].id)),j.employee=[parseInt(X.value[0].id)],M.commit("entities/setPreselected",j)),v.value=!1,le.value=!1,Na(M),aa(M,!1),_t(M);let F=lt(ee.value,V.value.id);F.length===1&&(M.commit("booking/setLocationId",parseInt(F[0].id)),j.location=[parseInt(F[0].id)],M.commit("entities/setPreselected",j)),M.commit("booking/setBookableType","appointment"),le.value=!0}z("restoreFormData").value&&W();function je(j){M.commit("booking/setPackageId",j.id),M.commit("booking/setBookableType","package"),M.commit("booking/setMultipleAppointments",Dt(0,j)),M.commit("booking/setMultipleAppointmentsIndex",0),X.value.length===1&&M.commit("booking/setEmployeeId",parseInt(X.value[0].id)),lt(ee.value,V.value.id).length===1&&M.commit("booking/setLocationId",parseInt(lt(ee.value,V.value.id)[0].id)),Ie(()=>{le.value=!0})}const ae=f(()=>M.getters["entities/getPreselected"]);let Ne=b(ee.value.services.length!==1&&ae.value.service.length!==1),Ee=b("");oe("stepName",Ee);function q(){let j=M.getters["entities/getBookableFromBookableEntities"](M.getters["booking/getSelection"]),F=j.settings?JSON.parse(j.settings):s;"general"in F&&"redirectUrlAfterAppointment"in F.general&&F.general.redirectUrlAfterAppointment?window.location.href=F.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function O(){if(Ee.value&&Ee.value==="CongratulationsStep")q();else{if(Ee.value&&Ee.value==="DateTimeStep"){let j=Ma(M);j&&console.log(j)}M.commit("booking/setEmployeeId",null),M.commit("booking/setLocationId",null),M.commit("entities/setPreselected",M.getters["entities/getOriginalPreselected"])}We.value="760px"}let T=b(!1);function J(j,F){let w="";return j>1?(F==="day"&&(w=d.value.expires_days),F==="week"&&(w=d.value.expires_weeks),F==="month"&&(w=d.value.expires_months)):(F==="day"&&(w=d.value.expires_day),F==="week"&&(w=d.value.expires_week),F==="month"&&(w=d.value.expires_month)),w}let ze=f(()=>Object.keys(V.value).length===0||X.value.length===0),xe=z("amColors"),Je=f(()=>({"--am-c-fcis-success-op20":ie(xe.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ie(xe.value.colorPrimary,.2),"--am-c-fcis-text-op80":ie(xe.value.colorMainText,.8),"--am-c-fcis-text-op03":ie(xe.value.colorMainText,.03),"--am-c-fcis-btn-op50":ie(xe.value.colorBtnSec,.5)})),De=f(()=>({"--am-c-fcis-bgr":xe.value.colorMainBgr,"--am-c-fcis-text":xe.value.colorMainText,"--am-c-fcis-success":xe.value.colorSuccess,"--am-c-fcis-primary":xe.value.colorPrimary,"--am-c-scroll-op30":ie(xe.value.colorPrimary,.3),"--am-c-scroll-op10":ie(xe.value.colorPrimary,.1),"--am-font-family":m.fontFamily}));return(j,F)=>e(x)?(t(),i(Q,{key:0},[e(ze)?c("",!0):(t(),he(Jt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(Z)?"":"no-scroll"}`,style:de(e(Je))},{header:R(()=>[H(Gt,{"btn-string":e(d).back_btn,"btn-type":e(I).backBtn.buttonType,"back-btn-visibility":e(Ne),"cart-btn-visibility":e(se),"cart-items-number":e(te),role:"navigation","aria-label":"Navigation Controls",onGoBack:Se,onGoToCart:U},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:R(()=>[a("div",{class:N([[{"am-tablet":e(u)<=678},{"am-mobile":e(u)<450}],"am-fcis__header-top"]),role:"region","aria-label":"Service Information"},[a("div",ul,[a("span",dl,n(e(V).name),1),e(I).serviceBadge.visibility?(t(),i("div",ml,[pl,a("span",null,n(e(d).heading_service),1)])):c("",!0)]),a("div",_l,[e(I).servicePrice.visibility?(t(),i("span",vl,n(e(mt)(e(ee),e(V).id).min||e(mt)(e(ee),e(V).id).max?e(mt)(e(ee),e(V).id).price:e(d).free),1)):c("",!0),(e(I).tax?.visibility??!0)&&e(ft)(e(M),e(V).id,"service")?(t(),i("span",fl,[e(s).payments.taxes.excluded?(t(),i(Q,{key:0},[_e(n(`+${e(d).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[_e(n(e(d).incl_tax),1)],64))])):c("",!0),a("span",gl,[H(Fe,{type:e(I).bookingBtn.buttonType,onClick:W},{default:R(()=>[_e(n(e(d).book_now),1)]),_:1},8,["type"])])])],2),e(I).serviceCategory.visibility||e(I).serviceDuration.visibility||e(I).serviceCapacity.visibility||e(I).serviceLocation.visibility?(t(),i("div",yl,[a("div",hl,[e(I).serviceCategory.visibility&&e(Ce)?(t(),i("div",bl,[kl,a("span",null,n(e(Ce).name),1)])):c("",!0),e(I).serviceDuration.visibility?(t(),i("div",Cl,[$l,a("span",null,n(e(la)(e(V).duration)),1)])):c("",!0),e(I).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",wl,[Sl,a("span",null,n(e(sa)(e(ee),e(V).id)),1)])):c("",!0),e(lt)(e(ee),e(V).id).length&&e(I).serviceLocation.visibility&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",xl,[Pl,a("span",null,n(be(e(ee),e(V).id)),1)])):c("",!0)])])):c("",!0)]),content:R(()=>[e(V).gallery.length?(t(),i("div",Il,[a("div",{class:N(["am-fcis__gallery-hero",[{w100:e(V).gallery.length===1},{"am-mobile w100":e(u)<678}]]),style:de({backgroundImage:`url(${e(V).gallery[0].pictureFullPath})`})},null,6),e(ye).length&&e(u)>677?(t(),i("div",Ll,[(t(!0),i(Q,null,ge(e(ye),(w,C)=>(t(),i("div",{key:C,class:N(["am-fcis__gallery-thumb",{"am-one-thumb":e(ye).length===1}]),style:de({backgroundImage:`url(${w.pictureFullPath})`})},null,6))),128))])):c("",!0),H(Fe,{"custom-class":`am-fcis__gallery-btn${e(u)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:F[0]||(F[0]=()=>pe(T)?T.value=!0:T=!0)},{default:R(()=>[_e(n(e(d).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),H(pt,{modelValue:e(T),"onUpdate:modelValue":F[4]||(F[4]=w=>pe(T)?T.value=w:T=w),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:de(e(De))},[a("div",El,[a("div",Dl,[a("span",{class:"am-icon-arrow-left",onClick:F[1]||(F[1]=()=>pe(_)?_.value=e(_)<=0?e(V).gallery.length-1:e(_)-1:_=e(_)<=0?e(V).gallery.length-1:e(_)-1)}),a("span",{class:"am-icon-arrow-right",onClick:F[2]||(F[2]=()=>pe(_)?_.value=e(V).gallery.length-1===e(_)?0:e(_)+1:_=e(V).gallery.length-1===e(_)?0:e(_)+1)})]),(t(!0),i(Q,null,ge(e(V).gallery,(w,C)=>(t(),i("div",{key:C,class:"am-gd__display",style:de({display:C===e(_)?"flex":"none"}),onClick:F[3]||(F[3]=()=>pe(_)?_.value=e(V).gallery.length-1===e(_)?0:e(_)+1:_=e(V).gallery.length-1===e(_)?0:e(_)+1)},[a("img",{src:w.pictureFullPath,alt:C},null,8,Tl)],4))),128))]),a("div",Bl,n(`${e(_)+1}/${e(V).gallery.length}`),1),a("div",zl,[(t(!0),i(Q,null,ge(e(V).gallery,(w,C)=>(t(),i("div",{key:C,class:N(["am-gd__thumb",{"am-active":C===e(_)}]),style:de({backgroundImage:`url(${w.pictureFullPath})`}),onClick:()=>pe(_)?_.value=C:_=C},null,14,Fl))),128))])],4)]),_:1},8,["modelValue"]),e(I).serviceDescription.visibility&&e(Me)(e(V).description)||e(I).serviceEmployees.visibility?(t(),i("div",Al,[a("div",Rl,[e(Me)(e(V).description)&&e(I).serviceDescription.visibility?(t(),i("div",{key:0,class:N(["am-fcis__info-tab",{"am-active":e(K)==="description"}]),onClick:F[5]||(F[5]=()=>pe(K)?K.value="description":K="description")},n(e(d).about_service),3)):c("",!0),e(I).serviceEmployees.visibility&&!e(B).isLite?(t(),i("div",{key:1,class:N([{"am-active":e(K)==="employees"},"am-fcis__info-tab"]),onClick:F[6]||(F[6]=()=>pe(K)?K.value="employees":K="employees")},n(e(d).tab_employees),3)):c("",!0)]),a("div",Nl,[e(Me)(e(V).description)&&e(I).serviceDescription.visibility?Lt((t(),i("div",Ml,[a("div",{class:N(["am-fcis__info-service__desc",{"ql-description":e(V).description.includes("<!-- Content -->")}]),innerHTML:e(V).description},null,10,Vl)],512)),[[Et,e(K)==="description"]]):c("",!0),e(I).serviceEmployees.visibility?Lt((t(),i("div",Ol,[H(Pt,null,{default:R(()=>[(t(!0),i(Q,null,ge(e(X),w=>(t(),he(It,{key:w.id,side:""},{heading:R(()=>[a("div",{class:N([{"am-mobile":e(u)<451},"am-fcis__info-employee"])},[a("div",Ul,[H(dt,{"item-class":"am-fcis__info-employee__img","item-data":w,"trim-string":3},null,8,["item-data"]),a("div",Wl,[a("div",jl,[_e(n(w.firstName)+" "+n(w.lastName)+" ",1),w.badge?(t(),i("span",{key:0,style:de({background:w.badge.color}),class:"am-fcis__info-employee__badge"},n(w.badge.content),5)):c("",!0)]),Be(w)&&e(I).serviceEmployeePrice.visibility?(t(),i("div",Hl,n(Be(w)),1)):c("",!0)])])],2)]),default:R(()=>[e(Me)(w.description)?(t(),i("div",{key:0,class:N(["am-fcis__info-employee__description",{"ql-description":w.description.includes("<!-- Content -->")}]),innerHTML:w.description},null,10,ql)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Et,e(K)==="employees"]]):c("",!0)])])):c("",!0),e($e).length&&e(ae).show!=="services"&&e(I).servicePackages.visibility&&!e(Ue)(e(M))?(t(),i("div",Gl,[a("div",Jl,[a("span",Yl,n(e(d).service_available_in_package),1),e($e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:F[7]||(F[7]=()=>pe(ve)?ve.value=!e(ve):ve=!e(ve))},[e(ve)?(t(),i(Q,{key:1},[_e(n(e(d).less_packages),1)],64)):(t(),i(Q,{key:0},[_e(n(e(d).more_packages),1)],64))])):c("",!0)]),(t(!0),i(Q,null,ge(e(ce),w=>(t(),i("div",{key:w.id,class:"am-fcis__include",onClick:C=>je(w)},[a("div",Xl,[e(u)>450?(t(),he(dt,{key:0,"item-class":"am-fcis__include-img","item-data":w,"trim-string":3},null,8,["item-data"])):c("",!0),a("div",{class:N([{"am-mobile":e(u)<451},"am-fcis__include-text"])},[a("div",{class:N(["am-fcis__include-header",{"am-mobile":e(u)<600}])},[a("div",{class:N(["am-fcis__include-name",{"am-mobile":e(u)<600}])},n(w.name),3),e(I).packagePrice.visibility?(t(),i("div",Zl,[w.discount?(t(),i("span",Kl,n(`${e(d).save} ${w.discount}%`),1)):c("",!0),a("span",eo,n(w.price?e(at)(e(qt)(w)):e(d).free),1),(e(I).tax?.visibility??!0)&&e(ft)(e(M),w.id,"package")?(t(),i("span",to,[e(s).payments.taxes.excluded?(t(),i(Q,{key:0},[_e(n(`+${e(d).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[_e(n(e(d).incl_tax),1)],64))])):c("",!0)])):c("",!0)],2),a("div",ao,[e(I).packageCategory.visibility&&e(Ce)?(t(),i("div",io,[so,a("span",null,n(e(Ce).name),1)])):c("",!0),e(I).packageDuration.visibility?(t(),i("div",lo,[oo,w.endDate?(t(),i("span",no,n(`${e(d).expires_at} ${w.endDate.split(" ")[0]}`),1)):w.durationCount?(t(),i("span",ro,n(`${e(d).expires_after} ${w.durationCount} ${J(w.durationCount,w.durationType)}`),1)):(t(),i("span",co,n(e(d).without_expiration),1))])):c("",!0),e(I).packageCapacity.visibility?(t(),i("div",uo,_o)):c("",!0),e(I).packageLocation.visibility&&e(E).length?(t(),i("div",vo,[fo,a("span",null,n(e(E).length===1?e(E)[0].address?e(E)[0].address:e(E)[0].name:e(d).multiple_locations),1)])):c("",!0),e(I).packageServices.visibility?(t(),i("div",go,[a("span",null,n(`${e(d).in_package}:`),1),(t(!0),i(Q,null,ge(w.bookable,C=>(t(),i("span",{key:C.id},n(C.service.name),1))),128))])):c("",!0)])],2)])],8,Ql))),128))])):c("",!0),H(pt,{modelValue:e(le),"onUpdate:modelValue":F[9]||(F[9]=w=>pe(le)?le.value=w:le=w),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(We),onClosed:O},{default:R(()=>[H(Yt,{"show-cart":e(v),onAddToCart:ue,onEmptiedCart:F[8]||(F[8]=w=>pe(le)?le.value=!1:le=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(ze)?(t(),i("div",yo,[a("img",{src:e(k).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(ae).show!=="packages"?e(d).no_services_employees:e(d).no_package_services},null,8,ho),a("div",bo,n(e(d).oops),1),a("div",ko,n(e(ae).show!=="packages"?e(d).no_services_employees:e(d).no_package_services),1),a("div",Co,[e(ae).show!=="packages"?(t(),i("span",$o,n(e(d).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",wo,n(e(d).add_services_url)+"\xA0 ",1),e(ae).show!=="packages"?(t(),i("span",So,n(e(d).and)+"\xA0 ",1)):c("",!0),e(ae).show!=="packages"?(t(),i("a",xo,n(e(d).add_employees_url),1)):c("",!0)])],512)):c("",!0)],64)):c("",!0)}});const Lo={class:"am-fcip__header-text"},Eo={class:"am-fcip__header-name",role:"heading","aria-level":"1"},Do={key:0,class:"am-fcip__badge am-package"},To=a("span",{class:"am-icon-shipment"},null,-1),Bo={class:"am-fcip__header-action"},zo={key:0,class:"am-fcip__header-discount"},Fo={key:1,class:"am-fcip__header-price"},Ao={key:2,class:"am-fcip__header-tax"},Ro={class:"am-fcip__header-btn"},No={key:0,class:"am-fcip__header-bottom"},Mo={class:"am-fcip__mini-info"},Vo={key:0,class:"am-fcip__mini-info__inner"},Oo=a("span",{class:"am-icon-folder"},null,-1),Uo={key:1,class:"am-fcip__mini-info__inner"},Wo=a("span",{class:"am-icon-clock"},null,-1),jo={key:0},Ho={key:1},qo={key:2},Go={key:2,class:"am-fcip__mini-info__inner"},Jo=a("span",{class:"am-icon-user"},null,-1),Yo=a("span",null,"1/1",-1),Qo=[Jo,Yo],Xo={key:3,class:"am-fcip__mini-info__inner"},Zo=a("span",{class:"am-icon-locations"},null,-1),Ko={key:0,class:"am-fcip__gallery"},en={key:0,class:"am-fcip__gallery-thumb__wrapper"},tn=a("span",{class:"am-icon-gallery"},null,-1),an={class:"am-gd__display-wrapper"},sn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},ln=["src","alt"],on={class:"am-gd__selection"},nn={class:"am-gd__thumb-wrapper"},rn=["onClick"],cn={key:1,class:"am-fcip__info"},un={class:"am-fcip__info-tab__wrapper"},dn={class:"am-fcip__info-content__wrapper"},mn={key:0,class:"am-fcip__info-content"},pn=["innerHTML"],_n={key:1,class:"am-fcip__info-content"},vn={class:"am-fcip__info-employee"},fn={class:"am-fcip__info-employee__hero"},gn={class:"am-fcip__info-employee__name"},yn=["innerHTML"],hn={key:2,class:"am-fcip__include-wrapper"},bn={class:"am-fcip__include-heading"},kn={class:"am-fcip__include-heading__text"},Cn={class:"am-fcip__include-service"},$n={class:"am-fcip__include-service__info"},wn={key:0},Sn=["innerHTML"],xn={class:"am-fcip__include-footer"},Pn={class:"am-fcip__include-footer__text"},In={key:1,ref:"ameliaContainer",class:"am-empty"},Ln=["src","alt"],En={class:"am-empty__heading"},Dn={class:"am-empty__subheading"},Tn={class:"am-empty__text"},Bn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},zn={name:"CategoryPackage"},Fn=Object.assign(zn,{setup(g){let{previousPage:B}=z("changingPageFunctions",{previousPage:()=>{}}),y=b(),x=z("containerWidth");const k=z("settings"),L=z("baseUrls");let u=ot();const s=z("shortcodeData"),m=f(()=>u.getters["entities/getPreselected"]);let $=b(m.value.package.length!==1),S=z("amEntities"),A=z("customizedDataForm"),d=f(()=>A.value.categoryPackage.options),_=f(()=>"pageScroll"in d.value?d.value.pageScroll.visibility:!0),M=z("itemType"),ee=z("categorySelected"),se=f(()=>S.value.categories.find(q=>q.id===ee.value)),te=b(m.value.package.length!==1&&d.value.packageCategory.visibility&&se),l=f(()=>S.value.packages.find(q=>q.id===u.getters["booking/getPackageId"])),I=b(0),Z=b("description"),G=f(()=>oa(S.value,l.value,s.value)),me=f(()=>Ut(S.value,l.value,s.value)),Ce=b(m.value.employee.length>0?S.value.unfilteredEmployees.filter(q=>m.value.employee.map(O=>parseInt(O)).includes(q.id)):S.value.unfilteredEmployees);function V(q){let O=[];return q.providers.length?q.providers.forEach(T=>{Ce.value.find(J=>J.id===parseInt(T.id))&&O.push(Ce.value.find(J=>J.id===parseInt(T.id)))}):O=Ce.value.filter(T=>T.serviceList.find(J=>J.id===q.service.id)),O}Ae(()=>{d.value.packageDescription.visibility||(Z.value="employees"),Me(l.value.description)||(Z.value="employees")});let be=b(!1);jt(()=>{be.value=u.getters["entities/getEmployees"].length===0||G.value.length===0});let K=b(!1),X=f(()=>{let q=l.value.gallery.length?JSON.parse(JSON.stringify(l.value.gallery)):[];return l.value.gallery.length===1?[]:(q.shift(),q.length>2&&q.splice(2,q.length-2),q)});function Be(){M.value="",Ie(()=>{B()})}let ye=b(!1),$e=b("760px");oe("bookingDialogWidth",$e);function ve(){u.commit("booking/setPackageId",l.value.id),u.commit("booking/setMultipleAppointments",Dt(0,l.value)),u.commit("booking/setMultipleAppointmentsIndex",0),u.commit("booking/setBookableType","package"),Ie(()=>{ye.value=!0})}z("restoreFormData").value&&ve();let E=b("");oe("stepName",E);function Se(){let q=u.getters["entities/getBookableFromBookableEntities"](u.getters["booking/getSelection"]),O=q.settings?JSON.parse(q.settings):k;"general"in O&&"redirectUrlAfterAppointment"in O.general&&O.general.redirectUrlAfterAppointment?window.location.href=O.general.redirectUrlAfterAppointment:k.general.redirectUrlAfterAppointment?window.location.href=k.general.redirectUrlAfterAppointment:window.location.reload()}function v(){E.value&&E.value==="CongratulationsStep"?Se():u.commit("entities/setPreselected",u.getters["entities/getOriginalPreselected"]),$e.value="760px"}let U=z("amFonts");const ue=z("labels"),le=z("localLanguage");let We=f(()=>k.general.usedLanguages.includes(le.value)),W=f(()=>{let q=nt({...ue});if(k.customizedData&&k.customizedData.cbf&&k.customizedData.cbf.categoryPackage.translations){let O=k.customizedData.cbf.categoryPackage.translations;Object.keys(O).forEach(T=>{O[T][le.value]&&We.value?q[T]=O[T][le.value]:O[T].default&&(q[T]=O[T].default)})}return q});function Re(q){return q.length===1||q.length&&q.every(O=>O.id===q[0].id)?q[0].address?q[0].address:q[0].name:W.value.multiple_locations}function je(q,O){let T="";return q>1?(O==="day"&&(T=W.value.expires_days),O==="week"&&(T=W.value.expires_weeks),O==="month"&&(T=W.value.expires_months)):(O==="day"&&(T=W.value.expires_day),O==="week"&&(T=W.value.expires_week),O==="month"&&(T=W.value.expires_month)),T}let ae=z("amColors"),Ne=f(()=>({"--am-c-fcip-success-op20":ie(ae.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ie(ae.value.colorPrimary,.2),"--am-c-fcip-text-op80":ie(ae.value.colorMainText,.8),"--am-c-fcip-text-op60":ie(ae.value.colorMainText,.6),"--am-c-fcip-text-op03":ie(ae.value.colorMainText,.03),"--am-c-fcip-btn-op50":ie(ae.value.colorBtnSec,.5)})),Ee=f(()=>({"--am-c-fcip-bgr":ae.value.colorMainBgr,"--am-c-fcip-text":ae.value.colorMainText,"--am-c-fcip-success":ae.value.colorSuccess,"--am-c-fcip-primary":ae.value.colorPrimary,"--am-c-scroll-op30":ie(ae.value.colorPrimary,.3),"--am-c-scroll-op10":ie(ae.value.colorPrimary,.1),"--am-font-family":U.fontFamily}));return(q,O)=>(t(),i(Q,null,[e(be)?c("",!0):(t(),he(Jt,{key:0,ref_key:"contentRef",ref:y,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(_)?"":"no-scroll"}`,style:de(e(Ne))},Ht({heading:R(()=>[a("div",{class:N([[{"am-tablet":e(x)<=678},{"am-mobile":e(x)<450}],"am-fcip__header-top"]),role:"region","aria-label":"Package Information"},[a("div",Lo,[a("span",Eo,[a("span",null,n(e(l).name),1)]),e(d).packageBadge.visibility?(t(),i("div",Do,[To,a("span",null,n(e(W).package),1)])):c("",!0)]),a("div",Bo,[e(l).discount&&e(d).packagePrice.visibility?(t(),i("span",zo,n(`${e(W).save} ${e(l).discount}%`),1)):c("",!0),e(d).packagePrice.visibility?(t(),i("span",Fo,n(e(l).price?e(at)(e(qt)(e(l))):e(W).free),1)):c("",!0),e(l).price&&(e(d).tax?.visibility??!0)&&e(ft)(e(u),e(l).id,"package")?(t(),i("span",Ao,[e(k).payments.taxes.excluded?(t(),i(Q,{key:0},[_e(n(`+${e(W).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[_e(n(e(W).incl_tax),1)],64))])):c("",!0),a("span",Ro,[H(Fe,{type:e(d).bookingBtn.buttonType,onClick:ve},{default:R(()=>[_e(n(e(W).book_now),1)]),_:1},8,["type"])])])],2),e(d).packageCategory.visibility&&e(m).package.length!==1||e(d).packageDuration.visibility||e(d).packageCapacity.visibility||e(d).packageLocation.visibility&&e(me).length?(t(),i("div",No,[a("div",Mo,[e(te)?(t(),i("div",Vo,[Oo,a("span",null,n(e(se).name),1)])):c("",!0),e(d).packageDuration.visibility?(t(),i("div",Uo,[Wo,e(l).endDate?(t(),i("span",jo,n(`${e(W).expires_at} ${e(l).endDate.split(" ")[0]}`),1)):e(l).durationCount?(t(),i("span",Ho,n(`${e(W).expires_after} ${e(l).durationCount} ${je(e(l).durationCount,e(l).durationType)}`),1)):(t(),i("span",qo,n(e(W).without_expiration),1))])):c("",!0),e(d).packageCapacity.visibility?(t(),i("div",Go,Qo)):c("",!0),e(me).length&&e(d).packageLocation.visibility?(t(),i("div",Xo,[Zo,a("span",null,n(Re(e(me))),1)])):c("",!0)])])):c("",!0)]),content:R(()=>[e(l).gallery.length?(t(),i("div",Ko,[a("div",{class:N(["am-fcip__gallery-hero",[{w100:e(l).gallery.length===1},{"am-mobile w100":e(x)<678}]]),style:de({backgroundImage:`url(${e(l).gallery[0].pictureFullPath})`})},null,6),e(X).length&&e(x)>677?(t(),i("div",en,[(t(!0),i(Q,null,ge(e(X),(T,J)=>(t(),i("div",{key:J,class:N(["am-fcip__gallery-thumb",{"am-one-thumb":e(X).length===1}]),style:de({backgroundImage:`url(${T.pictureFullPath})`})},null,6))),128))])):c("",!0),H(Fe,{"custom-class":`am-fcip__gallery-btn${e(x)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:O[0]||(O[0]=()=>pe(K)?K.value=!0:K=!0)},{default:R(()=>[tn,a("span",null,n(e(W).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),H(pt,{modelValue:e(K),"onUpdate:modelValue":O[4]||(O[4]=T=>pe(K)?K.value=T:K=T),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:de(e(Ee))},[a("div",an,[a("div",sn,[a("span",{class:"am-icon-arrow-left",onClick:O[1]||(O[1]=()=>pe(I)?I.value=e(I)<=0?e(l).gallery.length-1:e(I)-1:I=e(I)<=0?e(l).gallery.length-1:e(I)-1)}),a("span",{class:"am-icon-arrow-right",onClick:O[2]||(O[2]=()=>pe(I)?I.value=e(l).gallery.length-1===e(I)?0:e(I)+1:I=e(l).gallery.length-1===e(I)?0:e(I)+1)})]),(t(!0),i(Q,null,ge(e(l).gallery,(T,J)=>(t(),i("div",{key:J,class:"am-gd__display",style:de({display:J===e(I)?"flex":"none"}),onClick:O[3]||(O[3]=()=>pe(I)?I.value=e(l).gallery.length-1===e(I)?0:e(I)+1:I=e(l).gallery.length-1===e(I)?0:e(I)+1)},[a("img",{src:T.pictureFullPath,alt:J},null,8,ln)],4))),128))]),a("div",on,n(`${e(I)+1}/${e(l).gallery.length}`),1),a("div",nn,[(t(!0),i(Q,null,ge(e(l).gallery,(T,J)=>(t(),i("div",{key:J,class:N(["am-gd__thumb",{"am-active":J===e(I)}]),style:de({backgroundImage:`url(${T.pictureFullPath})`}),onClick:()=>pe(I)?I.value=J:I=J},null,14,rn))),128))])],4)]),_:1},8,["modelValue"]),e(d).packageDescription.visibility&&e(Me)(e(l).description)||e(d).packageEmployees.visibility?(t(),i("div",cn,[a("div",un,[e(Me)(e(l).description)&&e(d).packageDescription.visibility?(t(),i("div",{key:0,class:N(["am-fcip__info-tab",{"am-active":e(Z)==="description"}]),onClick:O[5]||(O[5]=()=>pe(Z)?Z.value="description":Z="description")},n(e(W).about_package),3)):c("",!0),e(d).packageEmployees.visibility?(t(),i("div",{key:1,class:N([{"am-active":e(Z)==="employees"},"am-fcip__info-tab"]),onClick:O[6]||(O[6]=()=>pe(Z)?Z.value="employees":Z="employees")},n(e(W).tab_employees),3)):c("",!0)]),a("div",dn,[e(Me)(e(l).description)&&e(d).packageDescription.visibility?Lt((t(),i("div",mn,[a("div",{class:N(["am-fcip__info-service__desc",{"ql-description":e(l).description.includes("<!-- Content -->")}]),innerHTML:e(l).description},null,10,pn)],512)),[[Et,e(Z)==="description"]]):c("",!0),e(d).packageEmployees.visibility?Lt((t(),i("div",_n,[H(Pt,null,{default:R(()=>[(t(!0),i(Q,null,ge(e(G),T=>(t(),he(It,{key:T.id,side:""},{heading:R(()=>[a("div",vn,[a("div",fn,[H(dt,{"item-class":"am-fcip__info-employee__img","item-data":T,"trim-string":3},null,8,["item-data"]),a("div",gn,[_e(n(T.firstName)+" "+n(T.lastName)+" ",1),T.badge?(t(),i("span",{key:0,style:de({background:T.badge.color}),class:"am-fcip__info-employee__badge"},n(T.badge.content),5)):c("",!0)])])])]),default:R(()=>[e(Me)(T.description)?(t(),i("div",{key:0,class:N(["am-fcip__info-employee__description",{"ql-description":T.description.includes("<!-- Content -->")}]),innerHTML:T.description},null,10,yn)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Et,e(Z)==="employees"]]):c("",!0)])])):c("",!0),e(d).packageServices.visibility?(t(),i("div",hn,[a("div",bn,[a("span",kn,n(`${e(W).package_includes}:`),1)]),H(Pt,null,{default:R(()=>[(t(!0),i(Q,null,ge(e(l).bookable,T=>(t(),he(It,{key:T.id,side:!0},{heading:R(()=>[a("div",Cn,[H(dt,{"item-class":"am-fcip__include-service__img","item-data":T.service},null,8,["item-data"]),_e(" "+n(T.service.name+(e(l).sharedCapacity?"":" x"+T.quantity)),1)])]),default:R(()=>[a("div",$n,[a("span",null,n(`${e(W).tab_employees}:`),1),(t(!0),i(Q,null,ge(V(T).slice(0,6),J=>(t(),he(dt,{key:J.id,"item-class":"am-fcip__include-service__info-name","item-data":J,"trim-string":3},null,8,["item-data"]))),128)),V(T).length>6?(t(),i("span",wn," + "+n(V(T).length-6),1)):c("",!0),e(Me)(T.service.description)?(t(),i("div",{key:1,class:N(["am-fcip__include-service__info-description",{"ql-description":T.service.description.includes("<!-- Content -->")}]),innerHTML:T.service.description},null,10,Sn)):c("",!0)])]),_:2},1024))),128))]),_:1}),a("div",xn,[a("span",Pn,n(e(W).package_book_service),1)])])):c("",!0),H(pt,{modelValue:e(ye),"onUpdate:modelValue":O[7]||(O[7]=T=>pe(ye)?ye.value=T:ye=T),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e($e),onClosed:v},{default:R(()=>[H(Yt)]),_:1},8,["modelValue","width"])]),_:2},[e($)?{name:"header",fn:R(()=>[H(Gt,{"btn-string":e(W).back_btn,"btn-type":e(d).backBtn.buttonType,role:"presentation","aria-label":"Back",onGoBack:Be},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(be)?(t(),i("div",In,[a("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(W).no_package_services},null,8,Ln),a("div",En,n(e(W).oops),1),a("div",Dn,n(e(W).no_package_services),1),a("div",Tn,[a("a",Bn,n(e(W).add_services_url)+"\xA0 ",1)])],512)):c("",!0)],64))}});const An={name:"CatalogSkeleton"},Rn=Object.assign(An,{setup(g){let B=b(null),y=b(0);window.addEventListener("resize",x);function x(){B.value&&(y.value=B.value.offsetWidth)}Ae(()=>{B.value&&(y.value=B.value.offsetWidth)});let k=f(()=>y.value<=500?"am-w100":y.value<=600?"am-w50":y.value<=768?"am-w33":"");return(L,u)=>{const s=Oa,m=Va;return t(),i("div",{ref_key:"amSkeletonContainer",ref:B,class:"am-skeleton-catalog__wrapper"},[H(m,{animated:"",class:"am-skeleton-catalog"},{template:R(()=>[(t(!0),i(Q,null,ge(new Array(8),$=>(t(),i("div",{key:$,class:N(["am-skeleton-catalog__item",e(k)])},[H(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Nn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Mn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Vn=["href"],On={name:"CatalogFormWrapper"},Un=Object.assign(On,{emits:["isRestored"],setup(g,{emit:B}){let y=z("isMounted"),x=z("licence"),k=b(null),L=b(20);const u=z("baseUrls");let s=b(0);oe("containerWidth",s),window.addEventListener("resize",m);function m(){k.value&&(s.value=k.value.offsetWidth)}Ae(()=>{d.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+A.value.counter).classList.add("amelia-v2-booking-"+A.value.counter+"-loaded"),vt(d,{},"ViewContent","appointment",null,null),m(),y.value=!0,ea("scrollForm",{offsetFromTop:L})});let $=b(!1);const S=z("settings"),A=z("shortcodeData"),d=ot();d.commit("entities/setPreselected",A.value),d.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:x,loadEntities:A.value.hasApiCall,showHidden:!1,isPanel:!1});const _=Pe(Si),M=Pe(cl),ee=Pe(Io),se=Pe(Fn);let te=b([_,M]),l=b(0),I=b(null);oe("categorySelected",I);let Z=b([]);oe("availableCategories",Z);let G=b("");oe("itemType",G),xt(G,()=>{G.value==="appointment"&&te.value.push(ee),G.value==="package"&&te.value.push(se),G.value===""&&te.value.forEach((U,ue)=>{U.name==="CategoryService"&&me(te.value,ue),U.name==="CategoryPackage"&&me(te.value,ue)})});function me(U,ue){U.splice(ue,1)}function Ce(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function V(){if(l.value=l.value+1,Ce())setTimeout(()=>{let U=k.value.getBoundingClientRect().top+window.pageYOffset-L.value;window.scrollTo({top:U,behavior:"smooth"})},500);else{let U=k.value.getBoundingClientRect().top+window.pageYOffset-L.value;window.scrollTo({top:U,behavior:"smooth"})}}function be(){l.value=l.value-1}oe("changingPageFunctions",{nextPage:V,previousPage:be});let K=f(()=>d.getters["entities/getReady"]),X=f(()=>d.state.entities);oe("amEntities",X);function Be(){let U=d.getters["entities/getPreselected"];if(U.category.length!==1&&(A.value.categories_hidden&&(Z.value=JSON.parse(JSON.stringify(wt(X.value,A.value))),Ie(()=>{let ue=te.value.findIndex(le=>le.name==="CategoriesList");te.value.splice(ue,1)})),A.value.categories_hidden||(Z.value=JSON.parse(JSON.stringify(wt(X.value,A.value))),Ie(()=>{if(Z.value.length===1){d.commit("booking/setCategoryId",parseInt(Z.value[0].id)),I.value=parseInt(Z.value[0].id);let ue=te.value.findIndex(le=>le.name==="CategoriesList");te.value.splice(ue,1)}}))),U.category.length===1&&(d.commit("booking/setCategoryId",parseInt(U.category)),I.value=parseInt(U.category[0]),Z.value=JSON.parse(JSON.stringify(wt(X.value,A.value).filter(ue=>ue.id===parseInt(U.category[0])))),Ie(()=>{let ue=te.value.findIndex(le=>le.name==="CategoriesList");te.value.splice(ue,1)})),U.service.length===1){d.commit("booking/setServiceId",parseInt(U.service[0]));let ue=d.getters["entities/getService"](parseInt(U.service[0]));I.value=ue?parseInt(ue.categoryId):null,d.commit("booking/setCategoryId",ue?parseInt(ue.categoryId):null),Ie(()=>{te.value=[],te.value.push(ee)})}U.employee.length===1&&d.commit("booking/setEmployeeId",parseInt(U.employee[0])),U.location.length===1&&d.commit("booking/setLocationId",parseInt(U.location[0])),U.package.length===1&&d.getters["entities/getPackages"].length&&(te.value=[],d.commit("booking/setPackageId",parseInt(U.package[0])),Ie(()=>{te.value.push(se)})),U.show==="packages"?d.commit("booking/setBookableType","package"):d.commit("booking/setBookableType","appointment")}let ye=f(()=>K.value?Wa(d,A.value):null);oe("restoreFormData",ye),xt(K,U=>{U&&(Be(),$.value=d.getters["entities/getServices"].length===0||d.getters["entities/getEmployees"].length===0,ye.value&&(G.value=d.state.booking.appointment.type,Ie(()=>{l.value=te.value.length-1,I.value=d.state.booking.appointment.categoryId,B("isRestored",ye.value)})))});let $e=f(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf:ut.cbf);oe("customizedDataForm",$e);const ve=b(S.customizedData?S.customizedData.fonts:ut.fonts);oe("amFonts",ve);let ce=f(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf.colors:ut.cbf.colors);oe("amColors",ce);let E=f(()=>({"--am-c-primary":ce.value.colorPrimary,"--am-c-success":ce.value.colorSuccess,"--am-c-error":ce.value.colorError,"--am-c-warning":ce.value.colorWarning,"--am-c-main-bgr":ce.value.colorMainBgr,"--am-c-main-heading-text":ce.value.colorMainHeadingText,"--am-c-main-text":ce.value.colorMainText,"--am-c-sb-bgr":ce.value.colorSbBgr,"--am-c-sb-text":ce.value.colorSbText,"--am-c-inp-bgr":ce.value.colorInpBgr,"--am-c-inp-border":ce.value.colorInpBorder,"--am-c-inp-text":ce.value.colorInpText,"--am-c-inp-placeholder":ce.value.colorInpPlaceHolder,"--am-c-drop-bgr":ce.value.colorDropBgr,"--am-c-drop-text":ce.value.colorDropText,"--am-c-card-bgr":ce.value.colorCardBgr,"--am-c-card-text":ce.value.colorCardText,"--am-c-card-border":ce.value.colorCardBorder,"--am-c-btn-prim":ce.value.colorBtnPrim,"--am-c-btn-prim-text":ce.value.colorBtnPrimText,"--am-c-btn-sec":ce.value.colorBtnSec,"--am-c-btn-sec-text":ce.value.colorBtnSecText,"--am-c-skeleton-op20":ie(ce.value.colorMainText,.2),"--am-c-skeleton-op60":ie(ce.value.colorMainText,.6),"--am-font-family":ve.value.fontFamily}));function Se(){let U=document.head||document.getElementsByTagName("head")[0];U.querySelector("#amCustomFont")&&U.querySelector("#amCustomFont").remove();let ue=`@font-face {font-family: '${ve.value.fontFamily}'; src: url(${ve.value.fontUrl});}`,le=document.createElement("style");U.appendChild(le),le.setAttribute("type","text/css"),le.setAttribute("id","amCustomFont"),le.appendChild(document.createTextNode(ue))}ve.value.customFontSelected&&Se();let v=f(()=>({colorInputBorderRadius:"6px"}));return oe("amDesignProperties",v),(U,ue)=>(t(),i(Q,null,[ve.value.customFontSelected?c("",!0):(t(),i(Q,{key:0},[Nn,Mn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(u).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Vn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:k,class:"am-fc__wrapper",style:de(e(E))},[e(K)&&e(te).length?(t(),he(ta(e(te)[e(l)]),{key:0})):(t(),he(Rn,{key:1}))],4),H(e(Ua))],64))}});var jn=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"}));export{jn as C,ti as _,Gt as a,dt as b,Jt as c,Un as d};
